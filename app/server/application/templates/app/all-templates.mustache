<div id="templates">

    <div id="server-side-template-tags">{{=[[ ]]=}}</div>

    <div id="template-form-new-entity-choose-project">
        <form id="new-entity-choose-project">
            <select id="projects-for-entity" required="required" name="project_id">
                <option value=""></option>
            </select>

            <input type="submit" value="Create new {{type}} for this project" disabled="disabled">
        </form>
    </div>

    <div id="template-new-recurring-invoice">
        <div id="recurring-invoice-details">
            <div id="recurring-invoice-info">
                <h4>[[recurringInvoices.newRecurringInvoice]]</h4>


                <hr>
                <div id="recurring-invoice-list">
                    <div class="list condensed invoice-list">
                        <div class="list-main-header">
                            <div class="invoice-number">[[recurringInvoices.invoiceNumber]]</div>
                            <div class="invoice-total">[[recurringInvoices.total]]</div>
                            <div class="invoice-balance">[[recurringInvoices.balance]]</div>
                            <div class="invoice-status">[[recurringInvoices.status]]</div>
                            <div class="invoice-due-date">[[recurringInvoices.dueDate]]</div>
                        </div>


                        <ul class="">
                            <li>[[recurringInvoices.noInvoices]]</li>
                        </ul>
                    </div>
                </div>


            </div>
        </div>
    </div>
    <div id="template-recurring-invoice">
        <div id="recurring-invoice-details">
            <div id="recurring-invoice-info">
                <h4>{{profileName}}{{#if stopped}}<span class="stopped">[[recurringInvoiceDetails.inactive]]</span>{{/if}}</h4>
                <div>[[recurringInvoiceDetails.frequency]]: {{formattedFrequency}}</div>
                <div>[[recurringInvoiceDetails.startDate]]: {{formattedStartDate}}</div>
                <div>[[recurringInvoiceDetails.endDate]]: {{formattedEndDate}}</div>
                <div>[[recurringInvoiceDetails.nextInvoiceDate]]: {{formattedNextInvoiceDate}}</div>
                <hr>
                <div id="recurring-invoice-list">
                    <div class="list condensed invoice-list">
                        <div class="list-main-header">
                            <div class="invoice-number">[[recurringInvoiceDetails.invoiceNumber]]</div>
                            <div class="invoice-total">[[recurringInvoiceDetails.total]]</div>
                            <div class="invoice-balance">[[recurringInvoiceDetails.balance]]</div>
                            <div class="invoice-status">[[recurringInvoiceDetails.status]]</div>
                            <div class="invoice-due-date">[[recurringInvoiceDetails.dueDate]]</div>
                        </div>

                        <ul class="">
                            {{#invoices.models}}
                            <li class="{{statusClass}}" data-type="{{type}}" data-id={{id}}>
                                <div class="invoice-number">{{number}}</div>
                                <div class="invoice-total">{{formattedTotal}}</div>
                                <div class="invoice-balance">{{formattedBalance}}</div>
                                <div class="invoice-status {{statusClass}}"><span
                                        class="status-text">{{statusText}}</span>
                                </div>
                                <div class="invoice-due-date">{{dueDateHumanized}}</div>
                            </li>
                            {{/invoices.models}}
                        </ul>
                    </div>
                </div>



            </div>
        </div>
    </div>
    <div id="template-cards">
        <div id="card-view">

            <div id="card-view-complete">
                <div class="task-list-items">
                <h5>[[taskList.completedTasks]]</h5>
                    <ul id="completed-tasks-list" class="list condensed task-list">
                        {{#each complete}}
                        <li id="task-{{id}}" class="{{statusClass}} {{classes}} completed" data-id={{id}}>
                            <div class="sort-handle task-status-indicator"></div>
                            <div class="status-indicators">

                                <div class="is-task-completed task-status-indicator"></div>
                                <div class="saving-indicator task-status-indicator"></div>
                                <div class="retry-save save-item" title="[[cards.errorSaving]]"></div>
                            </div>

                            <div class="task-details">{{task}}</div>
                            <div class="task-due-date">{{dueDateHumanized}}</div>
                            <div class="task-assigned">
                    <span class="tag">
                        <span class="user-image">{{{userImage}}}</span>
                        <span>{{assignedToName}}</span>
                    </span>
                            </div>
                            <div class="task-meta">
                                {{#hasNotes}}
                                <span class="has-notes task-list-icon ti-notepad"
                                      title="[[cards.hasNotes]]"></span>
                                {{/hasNotes}}
                            </div>
                            <div class="task-actions">


                                <div class="view-task ti-eye" title="[[cards.viewTask]]"></div>
                            </div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
            </div>

            <div id="card-view-incomplete">
                            {{#each list}}
                            <div class="card-column {{this.section.type}} {{this.section.id}}" data-id="{{this.section.id}}">
                                <div class="card-column-header">{{this.section.name}}</div>
                                <div class="cards connected-cards viewport">
                                    {{#each this.tasks}}
                                    <div class="card {{#this.isComplete}}complete{{/this.isComplete}} {{statusClass}} {{classes}}"
                                         data-id="{{this.id}}">
                                        {{#../../userCanCompleteTasks}}
                                        <div class="is-task-completed task-status-indicator"></div>
                                        {{/../../userCanCompleteTasks}}
                                        <div class="saving-indicator task-status-indicator"></div>
                                        <div class="retry-save save-item" title="[[cards.errorSaving]]"></div>
                                        <div class="task-details">{{this.task}}</div>

                                        <a class="user-image" href="{{userLink}}">{{{userImage}}}</a>

                                    </div>
                                    {{/each}}
                                </div>

                                {{#../userCanCreateTasks}}
                                <div class="new-card">
                                    <input class="new-task-input" type="text" placeholder="[[cards.newTask]]"
                                           data-section-id="{{this.section.id}}">
                                </div>
                                {{/../userCanCreateTasks}}

                            </div>
                            {{/each}}


                            {{#userCanCreateTasks}}
                            <div class="new-section">
                                <div class="card-column-header">&nbsp;</div>
                                <input id="new-section-input" type="text" placeholder="[[cards.newSection]]" name="name"></div>
                            {{/userCanCreateTasks}}
                        </div>


        </div>
    </div>

    <div id="template-card-column">
        <div class="card-column {{type}}" data-id="{{id}}">
            <div class="card-column-header">{{name}}</div>
            <div class="cards connected-cards viewport">
                {{#each tasks}}
                <div class="card" data-id="{{this.id}}">
                    {{#../userCanCompleteTasks}}
                    <div class="is-task-completed task-status-indicator"></div>
                    {{/../userCanCompleteTasks}}
                    <div class="saving-indicator task-status-indicator"></div>
                    <div class="retry-save save-item" title="[[cards.errorSaving]]"></div>
                    <div class="task-details">{{this.task}}</div>

                    <a class="user-image" href="{{userLink}}">{{userImage}}</a>

                </div>
                {{/each}}
            </div>

            {{#userCanCreateTasks}}
            <div class="new-card">
                <input class="new-task-input" type="text" placeholder="[[cards.newTask]]"
                       data-section-id="{{id}}">
            </div>
            {{/userCanCreateTasks}}
        </div>
    </div>

    <div id="template-kanban-card">
        <div class="card" data-id="{{id}}">
            {{#userCanCompleteTasks}}
            <div class="is-task-completed task-status-indicator"></div>
            {{/userCanCompleteTasks}}
            <div class="saving-indicator task-status-indicator"></div>
            <div class="retry-save save-item" title="[[cards.errorSaving]]"></div>
            <div class="task-details">{{task}}</div>
        </div>
    </div>

    <div id="template-section-options">
        <form action="" class="form">
            <h3>Edit Section</h3>

            <div class="field">
                <label for="">Section name</label>
                <input id="set_section_name" type="text" name="name" value="{{section.name}}">
            </div>

            <div class="field">
                <label for="">Mark tasks complete when moved into this section</label>
                <input id="mark-tasks-complete" type="checkbox" name="action_mark_tasks_complete">
            </div>
            <hr>
            <div id="delete_section" class="button danger">Delete section</div>
        </form>

    </div>

    <div id="template-smart-menu">
        <div class="smart-menu {{class}}">
            <ul class="smart-menu-items">
                {{#items}}
                <li id="{{itemId}}"><span></span>{{itemText}}</li>
                {{/items}}

            </ul>
            <div class="more">
                <span class="sidebar-icon ti-more-alt more-icon"></span>

                <span class="smart-menu-more-text">[[smartMenu.more]]</span>
                <span class="smart-menu-menu-text">[[smartMenu.menu]]</span>
                <span class="sidebar-icon ti-angle-down menu-icon"></span>
                <ul class="smart-menu-overflow">

                </ul>
            </div>

        </div>
    </div>

    <div id="template-dropdown-button">
        <div class="dropdown-button {{classes}}">
            <span class="main-button button">{{buttonText}}</span>

            <ul class="dropdown-button-dropdown">
                {{#buttons}}
                <li id="{{id}}" class="{{class}}"><span></span>{{text}}</li>
                {{/buttons}}

            </ul>


        </div>
    </div>

    <div id="template-panel">
        <div id="{{id}}" class="panel top-info {{type}}">
            <div class="panel-info">
                <h3 class="panel-title">{{title}}</h3>

                <div class="panel-sort-wrapper">

                </div>

                <div class="panel-filter-wrapper"></div>


                <div class="panel-actions-wrapper">
                    <ul class="panel-actions">
                        {{#actions}}
                        <li class="panel-action {{class}}" data-action="{{actionUrl}}">{{panelAction}}</li>
                        {{/actions}}
                    </ul>
                </div>

            </div>
            <div class="notification">
                <span class="notificiation-message"></span>
                <span class="close"></span>
            </div>

        </div>
    </div>

    <div id="template-panel-two">
        {{!TODO:Why does primary panel have top info class and not the secondary panel?}}
        <div id="{{id}}" class="panel {{type}}">
            <div class="panel-info">
                <div class="panel-left">
                    <h3 class="panel-title">{{title}}</h3>

                    <div class="panel-title-widget"></div>
                </div>



                <div class="panel-actions-wrapper">


                    <div class="panel-actions">

                    </div>

                    <div id="discuss-button-wrapper" class="hide-on-mobile"></div>
                </div>

            </div>


            <div class="inner">
                <div class="inner-left ">

                    <div class="notification">
                        <span class="notificiation-message"></span>
                        <span class="close"></span>
                    </div>

                    <div class="inner-menu">
                        <div class="left-menu"></div>


                        <div class="right-menu secondary-inner-menu">

                        </div>

                    </div>


                    <div class="inner-content-wrapper nano top">
                        <div class="inner-content content">

                        </div>
                    </div>
                </div>

                <div class="inner-right">

                </div>

            </div>


        </div>

    </div>

    <div id="template-info-panel">
        <div id="info-panel">
            <div class="title">
                <span class="close ti-close"></span>

                <h3></h3>
                <div class="button-space"></div>
            </div>
            <div class="nano">
                <div class="content"></div>
            </div>
        </div>
    </div>

    <div id="template-panel-filter">
        <div class="panel-filter" data-filter-property="{{filterProperty}}">
            <div class="panel-selected-filter">
                <span class="selected-filter-name">{{selected}}</span>
                <span class="caret caret-down"></span>
            </div>
            <ul>
                {{#filters}}
                <li data-value="{{value}}" data-param="{{param}}">{{name}}</li>
                {{/filters}}
            </ul>
        </div>
    </div>

    <div id="template-panel-sort">
        <div class="panel-sort">
            <div class="arrow-up"></div>
            <div class="arrow-down"></div>
        </div>


    </div>

    <div id="template-panel-actions">
        <div> {{#actions}}
            <div id="{{id}}" class="panel-action {{class}}"
                 data-action="{{actionUrl}}">{{panelAction}}
            </div>
            {{/actions}}
        </div>
    </div>

    <div id="template-discuss-button">
        <span id="discuss-project-button">
        <span class="icon ti-comments"></span>
        <span class="discuss-button-text"></span>
    </span>
    </div>

    <div id="template-button-set">
        <ul id="{{id}}" class="button-set">
            {{#buttons}}
            <li id="{{buttonId}}" class="{{class}}"><span></span>{{buttonText}}</li>
            {{/buttons}}
        </ul>
    </div>

    <div id="template-button">
        <div id="{{buttonId}}" class="{{buttonType}} button">{{buttonText}}</div>
    </div>


    <div id="template-list">
        <div class="nano">

            <ul class="list detailed-list content {{listClass}}">
                {{#listItems}}
                <li class="{{statusText}} {{statusClass}}" data-id="{{id}}">
                    <div class="top-details">{{title}}</div>
                    <div class="bottom-details">
                        <div class="detail">{{meta1}}</div>
                        <div class="detail">{{meta2}}</div>
                        <div class="detail">{{meta3}}</div>
                    </div>
                    <div class="status"></div>
                </li>
                {{/listItems}}
            </ul>
        </div>
    </div>

    <div id="template-project-invoice-list">
        <div class="list condensed invoice-list">
            <div class="list-main-header">
                <div class="invoice-number">[[invoiceList.invoiceNumber]]</div>
                <div class="invoice-total">[[invoiceList.total]]</div>
                <div class="invoice-balance">[[invoiceList.balance]]</div>
                <div class="invoice-status">[[invoiceList.status]]</div>
                <div class="invoice-due-date">[[invoiceList.dueDate]]</div>
            </div>

            <ul class="">
                {{#invoices}}
                <li class="{{statusClass}}" data-id={{id}}>
                    <div class="invoice-number">{{number}}</div>
                    <div class="invoice-total">{{formattedTotal}}</div>
                    <div class="invoice-balance">{{formattedBalance}}</div>
                    <div class="invoice-status {{statusClass}}"><span class="status-text">{{statusText}}</span></div>
                    <div class="invoice-due-date">{{dueDateHumanized}}</div>
                </li>
                {{/invoices}}
            </ul>
        </div>
    </div>


    <div id="template-project-estimate-list">
        <div class="list condensed estimate-list">
            <div class="list-main-header">
                <div class="invoice-number">[[estimateList.estimateNumber]]</div>
                <div class="invoice-total">[[estimateList.total]]</div>
                <div class="invoice-status">[[estimateList.status]]</div>
            </div>

            <ul class="">
                {{#estimates}}
                <li class="{{statusClass}}" data-id={{id}}>
                    <div class="invoice-number">{{number}}</div>
                    <div class="invoice-total">{{formattedTotal}}</div>
                    <div class="invoice-status {{statusClass}}"><span class="status-text">{{statusText}}</span>
                    </div>
                </li>
                {{/estimates}}
            </ul>
        </div>
    </div>

    <div id="template-project-file-list">
        <div class="list condensed file-list">
            <div class="list-main-header">
                <div class="file-extension"></div>
                <div class="file-title">[[fileList.title]]</div>
                <div class="file-type">[[fileList.type]]</div>
                <div class="file-uploader-name">[[fileList.uploadedBy]]</div>
                <div class="file-create-date">[[fileList.date]]</div>
            </div>

            <ul class="">
                {{#files}}
                <li class="{{statusClass}} {{type}} {{extension}}" data-id={{id}}>
                    <div class="file-extension"><span>{{extension}}</span></div>
                    <div class="file-title">{{name}}</div>
                    <div class="file-type">{{type}}</div>
                    <div class="file-uploader-name">{{uploadedBy}}</div>
                    <div class="file-create-date">{{dateText}}</div>
                </li>
                {{/files}}
            </ul>
        </div>
    </div>
    <div id="template-task-list-items-simple">
        <div class="task-list-items">
            <ul id="completed-tasks-list" class="list condensed task-list">
                {{#each complete}}
                <li id="task-{{id}}" class="{{statusClass}} {{classes}} completed" data-id={{id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details">{{task}}</div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                    <div class="task-assigned">
                    <span class="tag">
                        <span class="user-image">{{{userImage}}}</span>
                        <span>{{assignedToName}}</span>
                    </span>
                    </div>
                    <div class="task-meta">
                        {{#hasNotes}}
                        <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                        {{/hasNotes}}
                    </div>
                    <div class="task-actions">


                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                    </div>
                </li>
                {{/each}}
            </ul>
            <ul id="incomplete-tasks-list" class="list condensed task-list">
                {{#each list}}
                <li id="section-{{this.section.id}}" class="{{statusClass}} list-header"
                    data-id={{this.section.id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details">{{this.section.name}}</div>

                    <div class="task-actions">


                    </div>
                </li>
                {{#each this.tasks}}
                <li id="task-{{id}}" class="{{statusClass}} {{classes}}" data-id={{id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details">{{task}}</div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                    <div class="task-assigned">
                    <span class="tag">
                        <span class="user-image">{{{userImage}}}</span>
                        <span>{{assignedToName}}</span>
                    </span>
                    </div>
                    <div class="task-meta">
                        {{#hasNotes}}
                        <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                        {{/hasNotes}}
                    </div>
                    <div class="task-actions">


                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                    </div>
                </li>
                {{/each}}

                {{/each}}
            </ul>
        </div>

    </div>

    <div id="template-task-list-items">
        <div class="task-list-items">
            <ul id="completed-tasks-list" class="list condensed task-list">
                {{#each complete}}
                <li id="task-{{id}}" class="{{statusClass}} {{classes}} completed" data-id={{id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details"><input type="text" value="{{task}}" disabled="disabled"></div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                    <div class="task-assigned">
                    <span class="tag">
                        <span class="user-image">{{{userImage}}}</span>
                        <span>{{assignedToName}}</span>
                    </span>
                    </div>
                    <div class="task-meta">
                        {{#hasNotes}}
                        <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                        {{/hasNotes}}
                    </div>
                    <div class="task-actions">

                        <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                    </div>
                </li>
                {{/each}}
            </ul>
            <ul id="incomplete-tasks-list" class="list condensed task-list">
                {{#each list}}
                <li id="section-{{this.section.id}}" class="{{statusClass}} list-header"
                    data-id={{this.section.id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details"><input type="text" value="{{this.section.name}}"></div>

                    <div class="task-actions">

                        <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                    </div>
                </li>
                {{#each this.tasks}}
                <li id="task-{{id}}" class="{{statusClass}} {{classes}}" data-id={{id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details"><input type="text" value="{{task}}"></div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                    <div class="task-assigned">
                    <span class="tag">
                        <span class="user-image">{{{userImage}}}</span>
                        <span>{{assignedToName}}</span>
                    </span>
                    </div>
                    <div class="task-meta">
                        {{#hasNotes}}
                        <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                        {{/hasNotes}}
                    </div>
                    <div class="task-actions">

                        <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                    </div>
                </li>
                {{/each}}

                {{/each}}
            </ul>
        </div>

    </div>

    <div id="template-task-list-line-item">
        <li id="{{id}}" class="{{statusClass}} {{classes}}" data-id={{id}}>
            <div class="sort-handle task-status-indicator"></div>
            <div class="status-indicators">

                <div class="is-task-completed task-status-indicator"></div>
                <div class="saving-indicator task-status-indicator"></div>
                <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
            </div>

            <div class="task-details"><input type="text" value="{{task}}"></div>
            <div class="task-due-date">{{dueDateHumanized}}</div>
            <div class="task-assigned"><span class="tag">{{assignedToName}}</span></div>
            <div class="task-meta">
                {{#hasNotes}}
                <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                {{/hasNotes}}
            </div>
            <div class="task-actions">

                <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
            </div>
        </li>
    </div>
    <div id="template-project-task-list-wrapper">
        <div id="tasks-list-wrapper"></div>
    </div>


    <div id="template-project-task-list">
        <div id="tasks-list">
            <ul id="completed-tasks-list" class="list condensed task-list">
                {{#complete}}
                <li id="{{id}}" class="{{statusClass}} {{classes}}" data-id={{id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details">{{task}}</div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                    <div class="task-assigned"><span class="tag">{{assignedToName}}</span></div>
                    <div class="task-meta">
                        {{#hasNotes}}
                        <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                        {{/hasNotes}}
                    </div>
                    <div class="task-actions">

                        <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                    </div>
                </li>
                {{/complete}}
            </ul>
            <ul id="incomplete-tasks-list" class="list condensed task-list">
                {{#each list}}
                <li id="{{this.section.id}}" class="{{statusClass}} list-header" data-id={{id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details">{{this.section.name}}</div>

                    <div class="task-actions">

                        <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                    </div>
                </li>
                {{#each this.tasks}}
                <li id="{{id}}" class="{{statusClass}} {{classes}}" data-id={{id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator task-status-indicator"></div>
                        <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    </div>

                    <div class="task-details">{{task}}</div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                    <div class="task-assigned"><span class="tag">{{assignedToName}}</span></div>
                    <div class="task-meta">
                        {{#hasNotes}}
                        <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                        {{/hasNotes}}
                    </div>
                    <div class="task-actions">

                        <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                    </div>
                </li>
                {{/each}}

                {{/each}}
                {{#incomplete}}
                <li id="{{id}}" class="{{statusClass}} {{classes}}" data-id={{id}}>
                    <div class="sort-handle task-status-indicator"></div>
                    <div class="status-indicators">

                        <div class="is-task-completed task-status-indicator"></div>
                        <div class="saving-indicator  task-status-indicator"></div>
                    </div>
                    <div class="retry-save save-item" title="[[taskDetails.errorSavingTitle]]"></div>
                    <div class="task-details">{{task}}</div>
                    <div class="task-assigned"><span class="tag">{{assignedToName}}</span></div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                    <div class="task-meta">
                        {{#hasNotes}}
                        <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                        {{/hasNotes}}
                    </div>
                    <div class="task-actions">

                        <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                        <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                        <div class="discuss-task ti-comment-alt" title="[[taskDetails.discuss]]"></div>
                        <div class="start-timer-for-task ti-timer" title="[[taskDetails.startTimer]]"></div>
                    </div>
                </li>
                {{/incomplete}}
            </ul>
        </div>
    </div>

    <div id="template-project-client-task-list">
        <div id="tasks-list" class="client-task-list">
            <ul id="completed-tasks-list" class="list condensed task-list">
                {{#complete}}
                <li id="{{id}}" class="{{statusClass}} {{classes}}" data-id={{id}}>
                    <div class="is-task-completed "></div>
                    <div class="saving-indicator"></div>
                    <div class="task-details">{{task}}</div>
                    <div class="task-assigned"><span class="tag">{{assignedToName}}</span></div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                </li>
                {{/complete}}
            </ul>
            <ul id="incomplete-tasks-list" class="list condensed task-list">
                {{#incomplete}}
                <li id="{{id}}" class="{{statusClass}} {{classes}} {{#isAssignedToMe}}mine{{/isAssignedToMe}}" data-id={{id}}>
                    <div class="is-task-completed "></div>
                    <div class="saving-indicator"></div>
                    <div class="task-details">{{task}}</div>
                    <div class="task-assigned"><span class="tag">{{assignedToName}}</span></div>
                    <div class="task-due-date">{{dueDateHumanized}}</div>
                </li>
                </li>
                {{/incomplete}}
            </ul>
        </div>
    </div>

    <div id="template-project-task-list-item">
        <li id="{{id}}" class="{{statusClass}}" data-id={{id}}>
            <div class="sort-handle task-status-indicator"></div>
            <div class="status-indicators">

                <div class="is-task-completed task-status-indicator"></div>
                <div class="saving-indicator task-status-indicator"></div>
            </div>
            <div class="task-details">{{task}}</div>
            <div class="task-assigned"><span class="tag">{{assignedToName}}</span></div>
            <div class="task-due-date">{{dueDateHumanized}}</div>
            <div class="task-meta">
                {{#hasNotes}}
                <span class="has-notes task-list-icon ti-notepad" title="[[taskDetails.hasNotesTitle]]"></span>
                {{/hasNotes}}
            </div>
            <div class="task-actions">

                <div class="delete-task ti-trash" title="[[taskDetails.deleteTitle]]"></div>
                <div class="view-task ti-eye" title="[[taskDetails.viewTitle]]"></div>
                <div class="discuss-task ti-comment-alt" title="[[taskDetails.discussTask]]"></div>
                <div class="start-timer-for-task ti-timer" title="[[taskDetails.startTimer]]"></div>
            </div>
        </li>
    </div>

    <div id="template-task-list-message">
        <div class="task-list-message {{type}}">
            {{message}}

            {{#closeButtonText}}
            <span class="close">{{closeButtonText}}</span>
            {{/closeButtonText}}

            {{#noCloseButtonText}}
            <span class="close">x</span>
            {{/noCloseButtonText}}

        </div>

    </div>


    <div id="template-task-details">
        <div class="item-details task-details {{completeClass}} {{#userIsClient}}client-task-details{{/userIsClient}}">
            <div class="item-details-inner">
                <div class="task-main item-details-main ">
                    <div class="task-content-section">
                        <div class="task-content">
                            {{#userIsAdmin}}
                            <div class="is-task-completed "></div>
                            {{/userIsAdmin}}

                            <div class="task-text">{{task}}</div>
                            <div class="task-description">{{notes}}</div>
                        </div>

                        {{#canUpdateTask}}
                        <div class="task-timer">
                            <div id="timer">
                                <div id="inactive-timer">Task Timer</div>
                                <div id="elapsed-time"></div>
                                <div class="timer-buttons">
                                    <div id="enter-time" class="button">[[taskDetails.enterTime]]</div>
                                    <div id="start-timer" class="button green">[[taskDetails.startTimer]]</div>
                                    <div id="stop-timer" class="button dark">[[taskDetails.stopTimer]]</div>

                                </div>


                            </div>


                        </div>
                        {{/canUpdateTask}}

                        <div class="task-files">
                            <h6>[[taskDetails.files]]</h6>
                            <ul class="attachment-list">
                                <li>No attachments</li>
                            </ul>
                        </div>

                        <div id="task-time-entries-wrapper">
                            <h6>Time Entries</h6>

                            <div id="task-time-entries" class="hidden"></div>
                        </div>
                    </div>
                    <div class="task-details-meta">
                        <div class="assigned-to"><span>[[taskDetails.assigned]]:</span>{{assignedToName}}</div>
                        <div class="status"><span>[[taskDetails.status]]:</span>{{statusText}}</div>
                        <div class="due-date"><span>[[taskDetails.dueDate]]:</span>{{dueDateText}}</div>


                        {{#if isComplete}}
                        <div class="due-date"><span>[[taskDetails.completedDate]]:</span>{{completedDateText}}
                        </div>
                        {{/if}}

                        {{#if formattedTotalTime}}
                        <div class="due-date"><span>Total Time:</span>{{formattedTotalTime}}
                        </div>
                        {{/if}}

                        <div class="task-weight">
                            <span>[[taskDetails.taskWeight]]:</span>

                            <div class="task-weight-value">
                                <div class="value">{{weightText}}</div>
                                <a id="change-task-weight" class="icon ti-pencil"
                                   title="[[taskDetails.taskWeightTitle]]"></a>
                            </div>
                        </div>

                    </div>
                </div>


            </div>


        </div>
    </div>

    <div id="template-user-image">
        <a href="{{userLink}}" class="user-image">{{{userImage}}}</a>
    </div>

    <div id="template-task-details-alternate">
        <div class="item-details task-details-alternate {{completeClass}} {{#userIsClient}}client-task-details{{/userIsClient}}">
            <div class="task-content-section">
                <div class="task-content">
                    {{#userIsAdmin}}
                    <div class="is-task-completed "></div>
                    {{/userIsAdmin}}

                    <div class="task-text">{{task}}</div>

                    <div class="user-image-wrapper">
                        <a href="{{userLink}}" class="user-image">{{{userImage}}}</a>
                    </div>

                </div>
                <div class="task-description">{{notes}}</div>
                <div class="task-details-meta">

                    {{#if hasStatus}}
                    <div class="status">
                        <span class="ti-star"></span>
                        <span class="meta-tag">[[taskDetails.status]]: </span>{{statusText}}
                    </div>
                    {{/if}}

                    {{#if hasDueDate}}
                    <div class="due-date">
                        <span class="ti-calendar"></span>
                        <span class="meta-tag">[[taskDetails.due]]:</span>{{dueDateText}}
                    </div>
                    {{/if}}

                    {{#if isComplete}}
                    <div class="due-date">
                        <span class="ti-check-box"></span>
                        <span class="meta-tag">[[taskDetails.completedDate]:</span>{{completedDateText}}
                    </div>
                    {{/if}}

                    {{#if formattedTotalTime}}
                    <div class="due-date">
                        <span class="ti-timer"></span>
                        <span class="meta-tag">[[taskDetails.totalTime]]:</span>{{formattedTotalTime}}
                    </div>
                    {{/if}}

                    {{#if hasTaskWeight}}
                    <div class="task-weight">
                        <span>[[taskDetails.taskWeight]]:</span>

                        <div class="task-weight-value">
                            <div class="value">{{weightText}}</div>
                            <a id="change-task-weight" class="icon ti-pencil"
                               title="[[taskDetails.taskWeightTitle]]"></a>
                        </div>
                    </div>
                    {{/if}}

                </div>

                <div class="task-files">

                    <ul class="attachment-list">
                        <li>[[taskDetails.noAttachments]]</li>
                    </ul>
                </div>





            </div>
            <div class="task-timer-section">
                <hr>
                {{#userCanCreateTasks}}
                <div class="task-timer">
                    <h6>[[taskDetails.timer]]
                        <span class="ti-angle-right closed"></span>
                        <span class="ti-angle-down"></span>
                    </h6>

                    <div id="timer" class="hidden">


                        <div class="timer-buttons">
                            <div id="start-timer" class="button green">[[taskDetails.startTimer]]</div>
                            <div id="stop-timer" class="button dark">[[taskDetails.stopTimer]]</div>
                            <div id="enter-time" class="">[[taskDetails.enterTime]]</div>
                        </div>
                        <div id="inactive-timer"></div>
                        <div id="elapsed-time"></div>
                    </div>
                </div>
                {{/userCanCreateTasks}}


                <div id="task-time-entries-wrapper">
                    <h6>[[taskDetails.timeEntries]]
                        <span class="ti-angle-right closed"></span>
                        <span class="ti-angle-down"></span>
                    </h6>

                    <div id="task-time-entries" class="hidden"></div>
                </div>
            </div>


        </div>
    </div>


    <div id="template-task-time-entries">
        <ul>
            <li class="header">
                <div class="time-entry-details">
                    <div>[[taskDetails.timeEntryDate]]</div>
                    <div>[[taskDetails.timeEntryUser]]</div>
                    <div>[[taskDetails.timeEntryTime]]</div>
                </div>
            </li>
            {{#timeEntries}}
            <li data-id="{{id}}">
                <div class="time-entry-details">
                    <div class="time-entry-date">{{startDateText}}</div>
                    <div class="time-entry-user">{{userName}}</div>
                    <div class="time-entry-time">{{timeText}}</div>
                </div>
                <div class="time-entry-delete ti-trash" title="[[taskDetails.deleteTimeEntryTitle]]"></div>
            </li>
            {{/timeEntries}}
        </ul>
    </div>

    <div id="template-task-time-entry">
        <li data-id="{{id}}" class="new">
            <div class="time-entry-details">
                <div class="time-entry-date">{{startDateText}}</div>
                <div class="time-entry-user">{{userName}}</div>
                <div class="time-entry-time">{{timeText}}</div>
            </div>
            <div class="time-entry-delete" title="[[taskDetails.deleteTimeEntryTitle]]"></div>
        </li>
    </div>


    <div id="template-form-time-entry">
        <form id="time-entry-form" action="#" method="post" data-model="timeEntry" novalidate>
            <div class="fields">
                <div class="field">
                    <label for="">[[timeEntryForm.hours]]</label>
                    <input type="text" name="hours" placeholder="[[timeEntryForm.hoursPlaceholder]]">
                </div>

                <div class="field">
                    <label for="">[[timeEntryForm.minutes]]</label>
                    <input type="text" name="minutes" placeholder="[[timeEntryForm.minutesPlaceholder]]">
                </div>

                <div class="field">
                    <label for="">[[timeEntryForm.seconds]]</label>
                    <input type="text" name="seconds" placeholder="[[timeEntryForm.secondsPlaceholder]]">
                </div>
            </div>

            <input type="submit" value="[[form.submit]]">
        </form>
    </div>


    <div id="template-task-attachment">
        <ol class="attachment-list">
            {{#files}}
            <li><a href="#projects/{{project_id}}/files/{{id}}">{{name}}</a></li>
            {{/files}}
        </ol>
    </div>

    <div id="template-document-viewer">
        <div class="document-viewer-wrapper dv-markup clearfix">
            <div class="document-viewer-outer dv-markup clearfix">
                <div class="document-viewer dv-markup clearfix"></div>
            </div>
        </div>
    </div>


    <div id="template-document-viewer-error">
        <div class="error-loading">[[fileView.errorLoading]]</div>
    </div>

    <div id="template-document-viewer-unsupported-type">
        <div class="unsupported-type">[[fileView.unsupportedType]]</div>
    </div>

    <div id="template-file-list-preview">
        <li class="file-list-preview">

            <div class="file-dv"><span class="loading-message">[[fileView.loading]]</span></div>

            <div class="file-meta-wrapper">
                <div class="file-name">{{name}}</div>
                <!--<div class="file-options"><span class="caret caret-down"></span>-->

                <!--<ul class="dropdown-menu">-->
                <!--<li><a href="#">Download</a></li>-->
                <!--<li class="divider"></li>-->
                <!--<li><a href="#">Delete</a></li>-->
                <!--</ul>-->
                <!--</div>-->
                <div class="file-meta"><span>[[fileView.uploaded]]:</span> {{formattedUploadDate}}</div>
            </div>
        </li>
    </div>

    <div id="template-file-list-simple-tiles">
        <ul id="file-list-simple-tiles">
            {{#files}}
            <li class="file-simple-tile {{type}}" title="{{name}}" data-id="{{id}}">
                <div class="file-icon"></div>
                <div class="file-name">{{name}}</div>
            </li>
            {{/files}}
        </ul>
    </div>

    <div id="template-file">
        <div class="file-view">


            <div class="file-view-inner">
                <div class="file-dv unfloat-on-mobile"></div>

                <div class="file-meta-wrapper unfloat-on-mobile">
                    <div class="file-name">{{name}}</div>


                    <hr/>

                    <div class="file-notes">
                        <h6>[[fileView.notes]]</h6>

                        <p class="notes-content">{{notes}}</p>
                    </div>

                    <div class="file-meta"><span>[[fileView.uploadedDate]]:</span> {{formattedUploadDate}}</div>
                    <div class="file-meta"><span>[[fileView.uploadedBy]]:</span> {{uploadedBy}}</div>
                    <div class="file-meta"><span>[[fileView.size]]:</span> {{sizeKilobytes}}kb</div>


                    <div id="file-notes">

                    </div>


                </div>
            </div>


        </div>
    </div>

    <div id="template-files-view-type">
        <ul id="file-view-type" class="button-set hide-on-mobile">
            <li id="line-items-view"><span class="ti-view-list"></span></li>
            <li id="simple-tiles-view"><span class=" ti-layout-grid3"></span></li>
            <li id="tiles-view"><span class=" ti-layout-grid2"></span></li>
        </ul>
    </div>

    <div id="template-form-edit-file-notes">
        <form action="#" method="post" data-model="file" novalidate>
            <div class="field">
                <label for="">[[fileView.notes]]</label>
                <textarea required="required" name="notes">{{notes}}</textarea>

            </div>

            <input type="submit" value="[[form.submit]]">
        </form>
    </div>

    <div id="template-recurring-invoice-editor">
        <div class="recurring-invoice-editor">
            <div class="invoice-editor"></div>
        </div>
    </div>
    <div id="template-form-make-invoice-recurring">
        <form id="make-recurring-form" class="form" data-model="RecurringInvoice">
            <div class="field">
                <label for="">[[recurringInvoiceForm.profileName]]</label>
                <input type="text" required="required" name="profile_name">
            </div>

            <div id="recurrence-frequency" >
                <div class="field">
                    <label>[[recurringInvoiceForm.repeatEvery]]</label>

                    <div class="recurrence-frequency-picker">
                        <select id="preset-frequencies" required="required" name="preset_frequency">
                            <option value=""></option>
                            <option value="1 weeks">[[recurringInvoiceForm.week]]</option>
                            <option value="2 weeks">[[recurringInvoiceForm.2weeks]]</option>
                            <option value="1 months">[[recurringInvoiceForm.month]]</option>
                            <option value="2 months">[[recurringInvoiceForm.2months]]</option>
                            <option value="3 months">[[recurringInvoiceForm.3months]]</option>
                            <option value="6 months">[[recurringInvoiceForm.6months]]</option>
                            <option value="1 years">[[recurringInvoiceForm.year]]</option>
                            <option value="2 years">[[recurringInvoiceForm.2years]]</option>
                            <option value="3 years">[[recurringInvoiceForm.3years]]</option>
                            <option value="custom">[[recurringInvoiceForm.custom]]</option>
                        </select>
                    </div>
                </div>


                <div id="custom-frequency">
                    <div class="field inline">
                        <label>[[recurringInvoiceForm.every]]</label>
                        <input type="text" name="every" value="" placeholder="2">
                    </div>
                    <div class="field inline">
                        <label>&nbsp;</label>
                        <select name="unit_of_time" placeholder="Week(s)">


                            <option value="days">[[recurringInvoiceForm.everyDays]]</option>
                            <option value="weeks">[[recurringInvoiceForm.everyWeeks]]</option>
                            <option value="months">[[recurringInvoiceForm.everyMonths]]</option>
                            <option value="years">[[recurringInvoiceForm.everyYears]]</option>
                        </select>
                    </div>
                </div>

            </div>


            <div id="recurring-dates">

                <div class="field inline">
                    <label for="">[[recurringInvoiceForm.startsOn]]</label>
                    <input class="date" type="date" required="required" name="start_date_selection">
                </div>

                <div class="field inline">
                    <label for="">[[recurringInvoiceForm.endsOn]]</label>
                    <input class="date" type="date" name="end_date_selection">
                </div>
            </div>

            <div id="payment-terms-wrapper">
                <div class="field">
                    <label for="payment-terms">[[recurringInvoiceForm.paymentTerms]]</label>

                    <select id="payment-terms" name="payment_terms" required="required">
                        {{#paymentTermsOptions}}
                        <option value="{{num_days}}">{{name}}</option>
                        {{/paymentTermsOptions}}

                        <option value="7">Net 7</option>
                        <option value="15">Net 15</option>
                        <option value="30">Net 30</option>
                        <option value="45">Net 45</option>
                        <option value="60">Net 60</option>
                    </select>
                </div>
            </div>

            <input type="hidden" name="start_date">
            <input type="hidden" name="end_date">
            <input type="hidden" name="recurring_invoice_id">

            <input type="submit">
        </form>
    </div>
    <div id="template-invoice-editor">
        <div class="invoice-editor {{#if isRecurring}}is-recurring{{/if}}">
            {{#if isRecurring}}
            <div class="banner-notification">
                <div class="notification-content">
                    [[invoiceEditor.recurringSeriesMessage]]
                    {{formattedNextInvoiceDate}}
                    <span class="notification-buttons">
                    <a id="edit-recurring" href="#recurringinvoices/{{recurringInvoiceId}}" class="button small main-action">Edit</a>
                        </span>
                </div>

            </div>
            {{else}}

            {{/if}}
            <div class="invoice editable">
                <div class="invoice-company-details">
                    <div class="invoice-logo">
                        <!--<img src="{{company.logo}}" alt="{{company.name}}"/>-->
                    </div>
                    <div class="invoice-contact-info">
                        <div>{{company.address1}}</div>
                        <div>{{company.address2}}</div>
                        <div>{{company.phone}}</div>
                    </div>
                </div>

                <div>[[invoiceView.to]]:</div>
                <div class="invoice-details">
                    {{#if needsClient}}
                    <div class="invoice-client">
                        <select name="client_id" id="invoice-client-selector" data-placeholder="[[invoiceView.chooseClient]]">
                            <option value=""></option>
                            {{#clients}}
                            <option value="{{id}}">{{name}}</option>
                            {{/clients}}
                        </select>
                    </div>
                    {{else}}
                    <div class="invoice-client">

                        <div class="invoice-client-name">{{client.name}}</div>
                        <div class="invoice-client-info">{{client.address1}}</div>
                        <div class="invoice-client-info">{{client.address2}}</div>
                    </div>
                    {{/if}}
                    <div class="invoice-meta">
                        <div><span>[[invoiceView.number]]</span>{{number}}</div>
                        <div class="invoice-date">
                            <span>[[invoiceView.date]]</span>

                            <div class="date-outer {{#if isRecurringEdit}} disabled{{/if}}">
                                <span class="date-text-placeholder">{{dateText}}</span>
                                <input id="invoice-date-input" class="transparent" type="text"
                                       title="[[invoiceView.changeDateTitle]]"
                                       value="{{dateText}}">
                            </div>

                        </div>
                        <div class="invoice-status {{statusClass}}"><span>[[invoiceView.status]]</span><span
                                class="status-text">{{statusText}}</span>
                        </div>
                    </div>

                    <div class="invoice-due-date">
                        <div class="right">
                            <div>[[invoiceView.due]]:</div>
                            <div class="due-date {{#if isRecurringEdit}} disabled{{/if}}">
                                <span class="due-date-text-placeholder">{{dueDateText}}</span>
                                <input id="invoice-due-date-input" class="transparent" type="text"
                                       title="[[invoiceView.changeDateTitle]]"
                                       value="{{dueDateText}}">
                            </div>
                        </div>

                    </div>
                </div>

                <ul class="line-items connected-sortable">
                    <li class="invoice-items-header">
                        <div class="invoice-item">[[invoiceView.item]]</div>
                        <div class="invoice-quantity">[[invoiceView.quantity]]</div>
                        <div class="invoice-rate">[[invoiceView.rate]]</div>
                        <div class="invoice-tax-rate">[[invoiceView.tax]]</div>
                        <div class="invoice-subtotal">[[invoiceView.subtotal]]</div>
                    </li>
                </ul>

                <div class="add-item">
                    <div id="add-invoice-item" class="button blue small">[[invoiceView.addItem]]</div>
                </div>

                <div class="invoice-summary row-container">

                    <div class="summary-header invoice-row">
                        [[invoiceView.summary]]
                    </div>

                    <div class="invoice-row">
                        <div>[[invoiceView.subtotal]]</div>
                        <div id="invoice-subtotal">{{formattedSubtotal}}</div>
                    </div>
                    <div id="invoice-tax-line-items-wrapper">
                        {{#taxes}}
                        <div class="invoice-row">
                            <div>{{name}}<span class="tax-rate-text">({{formattedTaxRate}})</span></div>
                            <div id="invoice-tax">{{formattedTaxAmount}}</div>
                        </div>

                        {{/taxes}}
                    </div>
                    <div class="invoice-row">
                        <div>[[invoiceView.total]]</div>
                        <div id="invoice-total">{{formattedTotal}}</div>
                    </div>

                </div>

                <div class="invoice-terms">
                    [[invoiceView.terms]]
                </div>
            </div>
        </div>

    </div>

    <div id="template-invoice-tax-line-items">
        <div class="invoice-tax-line-items">
            {{#taxes}}
            <div class="invoice-row">
                <div>{{name}}<span class="tax-rate-text">({{formattedTaxRate}})</span></div>
                <div id="invoice-tax">{{formattedTaxAmount}}</div>
            </div>

            {{/taxes}}
        </div>

    </div>


    <div id="template-invoice-line-item-editing">
        <li class="line-item editing" data-id="{{id}}">
            <div class="invoice-item"><input name="item" class="line-item-input"/></div>
            <div class="invoice-quantity"><input name="quantity" class="line-item-input"/></div>
            <div class="invoice-rate"><input name="rate" class="line-item-input" value="{{rate}}"/></div>
            <div class="invoice-tax-rate"></div>
            <div class="invoice-subtotal">&nbsp;</div>
            <div class="line-item-actions">
                <div class="edit-item invoice-item-action" title="[[invoiceView.editItem]]"></div>
                <div class="delete-item invoice-item-action" title="[[invoiceView.deleteItem]]"></div>
            </div>
        </li>
    </div>


    <div id="template-tax-rate-selector">
        <select name="tax_rate[]" class="tax-rate-selector line-item-input" multiple="multiple" style="width:100%"
                placeholder="select a tax">
            <option value="0">[[taxRates.nonTaxable]]</option>
            {{#taxRates}}
            <option value="{{id}}">{{name}}({{formattedTaxRate}})</option>
            {{/taxRates}}
            <option value="new">[[taxRates.newTaxRate]]</option>
        </select>
    </div>

    <div id="template-line-item-tax-list">
        <div class="line-item-taxes-list">
            {{#taxes}}<span>{{name}}</span>{{/taxes}}
        </div>
    </div>


    <div id="template-form-add-tax-rate">
        <form action="" method="post" data-model="TaxRate">
            <div class="field">
                <label for="">[[taxRates.name]]</label>
                <input type="text" name="name" required="required">
            </div>
            <div class="field">
                <label for="">[[taxRates.rate]]</label>

                <div class="small-9 columns">
                    <input type="text" name="rate" required="required">
                </div>
                <div class="small-3 columns">
                    <span class="postfix">[[taxRates.percent]]</span>
                </div>

            </div>
            <div class="field">
                <label for="">[[taxRates.additionalInfo]]</label>
                <input type="text" name="info">
            </div>
            <input type="submit">
        </form>
    </div>

    <div id="template-invoice">
        <div class="invoice">
            <div class="corner {{statusClass}}"><div class="text">{{statusText}}</div></div>
            <div class="invoice-company-details">
                <div class="invoice-logo">
                    <!--<img src="{{company.logo}}" alt="{{company.name}}"/>-->
                </div>
                <div class="invoice-contact-info">
                    <div>{{company.address1}}</div>
                    <div>{{company.address2}}</div>
                    <div>{{company.phone}}</div>
                </div>
            </div>

            <div>[[invoiceView.to]]:</div>
            <div class="invoice-details">
                <div class="invoice-client">

                    <div class="invoice-client-name">{{client.name}}</div>
                    <div class="invoice-client-info">{{client.address1}}</div>
                    <div class="invoice-client-info">{{client.address2}}</div>
                </div>

                <div class="invoice-meta">
                    <div><span>[[invoiceView.numberShort]]</span>{{number}}</div>
                    <div>
                        <span>[[invoiceView.dateShort]]</span>

                        <div class="date-outer">{{dateText}}

                        </div>

                    </div>
                    <div class="invoice-status {{statusClass}}"><span>Status</span><span
                            class="status-text">{{statusText}}</span></div>
                </div>

                <div class="invoice-due-date">
                    <div class="right">
                        <div>[[invoiceView.due]]:</div>
                        <div class="due-date">{{dueDateText}}

                        </div>
                    </div>

                </div>
            </div>

            <ul class="line-items">
                <li class="invoice-items-header">
                    <div class="invoice-item">[[invoiceView.item]]</div>
                    <div class="invoice-quantity">[[invoiceView.quantity]]</div>
                    <div class="invoice-rate">[[invoiceView.rate]]</div>
                    <div class="invoice-tax-rate">[[invoiceView.tax]]</div>
                    <div class="invoice-subtotal">[[invoiceView.subtotal]]</div>
                </li>
            </ul>


            <div class="invoice-summary row-container">

                <div class="summary-header invoice-row">
                    [[invoiceView.summary]]
                </div>

                <div class="invoice-row">
                    <div>[[invoiceView.subtotal]]</div>
                    <div>{{formattedSubtotal}}</div>
                </div>

                <div id="invoice-tax-line-items-wrapper">
                    {{#taxes}}
                    <div class="invoice-row">
                        <div>{{name}}<span class="tax-rate-text">({{formattedTaxRate}})</span></div>
                        <div id="invoice-tax">{{formattedTaxAmount}}</div>
                    </div>

                    {{/taxes}}
                </div>
                <div class="invoice-row">
                    <div>[[invoiceView.total]]</div>
                    <div class="invoice-total">{{formattedTotal}}</div>
                </div>
            </div>

            <div class="invoice-terms">
                [[invoiceView.terms]]
            </div>
        </div>
    </div>


    <div id="template-invoice-preview">


        <div class="preview-notification showing">
            {{#userIsAdmin}}
            [[invoiceView.adminPreviewNotice]] &nbsp;<a class="button small close-preview">[[invoiceView.adminPreviewNoticeClose]]</a>
            {{/userIsAdmin}}

            {{#userIsClient}}
            <a class="button small close-preview">[[invoiceView.clientPreviewNoticeClose]]</a>
            [[invoiceView.clientPreviewNotice]]
            {{/userIsClient}}
        </div>

        <div class="invoice preview">
            <div class="corner {{statusClass}}">
                <div class="text">{{statusText}}</div>
            </div>
            <div class="invoice-company-details">
                <div class="invoice-logo">
                    <!--<img src="{{company.logo}}" alt="{{company.name}}"/>-->
                </div>
                <div class="invoice-contact-info">
                    <div>{{company.address1}}</div>
                    <div>{{company.address2}}</div>
                    <div>{{company.phone}}</div>
                </div>
            </div>

            <div class="invoice-to">To:</div>
            <div class="invoice-details">
                <div class="invoice-client">

                    <div class="invoice-client-name">{{client.name}}</div>
                    <div class="invoice-client-info">{{client.address1}}</div>
                    <div class="invoice-client-info">{{client.address2}}</div>
                </div>

                <div class="invoice-meta">
                    <div><span>[[invoiceView.numberShort]]</span>{{number}}</div>
                    <div>
                        <span>[[invoiceView.dateShort]]</span>

                        <div class="date-outer">{{dateText}}

                        </div>

                    </div>
                    <div class="invoice-status {{statusClass}}"><span>[[invoiceView.statusShort]]</span><span
                            class="status-text">{{statusText}}</span></div>
                </div>

                <div class="invoice-due-date">
                    <div class="right">
                        <div>[[invoiceView.due]]:</div>
                        <div class="due-date">{{dueDateText}}

                        </div>
                    </div>

                </div>
            </div>

            <ul class="line-items">
                <li class="invoice-items-header">
                    <div class="invoice-item">[[invoiceView.item]]</div>
                    <div class="invoice-quantity">[[invoiceView.quantity]]</div>
                    <div class="invoice-rate">[[invoiceView.rate]]</div>
                    <div class="invoice-tax-rate">[[invoiceView.tax]]</div>
                    <div class="invoice-subtotal">[[invoiceView.subtotal]]</div>
                </li>
            </ul>

            <div class="invoice-summary row-container">

                <div class="summary-header invoice-row">
                    [[invoiceView.summary]]
                </div>
                <div class="invoice-row">
                    <div>[[invoiceView.subtotal]]</div>
                    <div>{{formattedSubtotal}}</div>
                </div>
                <div id="invoice-tax-line-items-wrapper">
                    {{#taxes}}
                    <div class="invoice-row">
                        <div>{{name}}<span class="tax-rate-text">({{formattedTaxRate}})</span></div>
                        <div id="invoice-tax">{{formattedTaxAmount}}</div>
                    </div>

                    {{/taxes}}
                </div>
                <div class="invoice-row">
                    <div>[[invoiceView.total]]</div>
                    <div class="invoice-total">{{formattedTotal}}</div>
                </div>
            </div>

            <div class="invoice-terms">
                [[invoiceView.terms]]
            </div>
        </div>
    </div>

    <div id="template-payment-success">
        <div class="payment-success">
            <h3>[[paymentSuccess.message]]</h3>
        </div>
    </div>

    <div id="template-link-view">
        <div id="link-view">
            <div id="link-body"></div>
        </div>
        <div id="hidden"></div>
    </div>

    <div id="template-estimate-public-link">


        <div class="full-width-notification">
            <div class="notification-content">
                <strong>[[estimate.estimate]]</strong>

                {{#if isApproved}}
                <h5>[[estimate.approvedMessage]]</h5>
                {{/if}}

                {{#if isRejected}}
                <h5>[[estimate.rejectedMessage]]</h5>
                {{/if}}

                {{#if needsResponse}}
                <div class="notification-buttons">
                    <a id="accept-estimate" class="button small main-action">[[estimate.acceptButton]]</a>
                    <a id="reject-estimate" class="button small danger">[[estimate.rejectButton]]</a>
                </div>
                {{/if}}


            </div>



        </div>


        <div class="invoice preview estimate">
            <div class="invoice-company-details">
                <div class="invoice-logo">
                    <!--<img src="{{company.logo}}" alt="{{company.name}}"/>-->
                </div>
                <div class="invoice-contact-info">
                    <div>{{company.address1}}</div>
                    <div>{{company.address2}}</div>
                    <div>{{company.phone}}</div>
                </div>
            </div>

            <div class="invoice-to">[[invoiceView.to]]:</div>
            <div class="invoice-details">
                <div class="invoice-client">

                    <div class="invoice-client-name">{{client.name}}</div>
                    <div class="invoice-client-info">{{client.address1}}</div>
                    <div class="invoice-client-info">{{client.address2}}</div>
                </div>

                <div class="invoice-meta">
                    <div><span>[[invoiceView.numberShort]]</span>{{number}}</div>
                    <div>
                        <span>[[invoiceView.dateShort]]</span>

                        <div class="date-outer">{{dateText}}

                        </div>

                    </div>
                    <div class="invoice-status"><span>[[invoiceView.statusShort]]</span><span
                            class="status-text">{{statusText}}</span></div>
                </div>

                <div class="invoice-due-date">
                    <div class="right">
                        <div>[[invoiceView.due]]:</div>
                        <div class="due-date">{{dueDateText}}

                        </div>
                    </div>

                </div>
            </div>

            <ul class="line-items">
                <li class="invoice-items-header">
                    <div class="invoice-item">[[invoiceView.item]]</div>
                    <div class="invoice-quantity">[[invoiceView.quantity]]</div>
                    <div class="invoice-rate">[[invoiceView.rate]]</div>
                    <div class="invoice-tax-rate">[[invoiceView.tax]]</div>
                    <div class="invoice-subtotal">[[invoiceView.subtotal]]</div>
                </li>
            </ul>

            <div class="invoice-summary row-container">

                <div class="summary-header invoice-row">
                    [[invoiceView.summary]]
                </div>
                <div class="invoice-row">
                    <div>[[invoiceView.subtotal]]</div>
                    <div>{{formattedSubtotal}}</div>
                </div>
                <div id="invoice-tax-line-items-wrapper">
                    {{#taxes}}
                    <div class="invoice-row">
                        <div>{{name}}<span class="tax-rate-text">({{formattedTaxRate}})</span></div>
                        <div id="invoice-tax">{{formattedTaxAmount}}</div>
                    </div>

                    {{/taxes}}
                </div>
                <div class="invoice-row">
                    <div>[[invoiceView.total]]</div>
                    <div class="invoice-total">{{formattedTotal}}</div>
                </div>
            </div>

            <div class="invoice-terms">
                [[invoiceView.terms]]
            </div>
        </div>
    </div>

    <div id="template-invoice-public-link">


        <div class="full-width-notification">
            <div class="notification-content">
                <strong>[[invoiceView.invoice]]</strong>

                {{#if isPaid}}
                <h5>This invoice has been paid.</h5>
                {{else}}

                <div class="link-buttons">
                    <a id="make-payment" class="button main-action">[[invoiceView.payNow]]</a>
                </div>


                {{/if}}



            </div>


        </div>



        <div class="invoice preview">
            <div class="corner {{statusClass}}">
                <div class="text">{{statusText}}</div>
            </div>
            <div class="invoice-company-details">
                <div class="invoice-logo">
                    <!--<img src="{{company.logo}}" alt="{{company.name}}"/>-->
                </div>
                <div class="invoice-contact-info">
                    <div>{{company.address1}}</div>
                    <div>{{company.address2}}</div>
                    <div>{{company.phone}}</div>
                </div>
            </div>

            <div class="invoice-to">[[invoiceView.to]]:</div>
            <div class="invoice-details">
                <div class="invoice-client">

                    <div class="invoice-client-name">{{client.name}}</div>
                    <div class="invoice-client-info">{{client.address1}}</div>
                    <div class="invoice-client-info">{{client.address2}}</div>
                </div>

                <div class="invoice-meta">
                    <div><span>[[invoiceView.numberShort]].</span>{{number}}</div>
                    <div>
                        <span>[[invoiceView.dateShort]]</span>

                        <div class="date-outer">{{dateText}}

                        </div>

                    </div>
                    <div class="invoice-status"><span>[[invoiceView.statusShort]]</span><span
                            class="status-text">{{statusText}}</span></div>
                </div>

                <div class="invoice-due-date">
                    <div class="right">
                        <div>[[invoiceView.due]]:</div>
                        <div class="due-date">{{dueDateText}}

                        </div>
                    </div>

                </div>
            </div>

            <ul class="line-items">
                <li class="invoice-items-header">
                    <div class="invoice-item">[[invoiceView.item]]</div>
                    <div class="invoice-quantity">[[invoiceView.quantity]]</div>
                    <div class="invoice-rate">[[invoiceView.rate]]</div>
                    <div class="invoice-tax-rate">[[invoiceView.tax]]</div>
                    <div class="invoice-subtotal">[[invoiceView.subtotal]]</div>
                </li>
            </ul>

            <div class="invoice-summary row-container">

                <div class="summary-header invoice-row">
                    [[invoiceView.summary]]
                </div>
                <div class="invoice-row">
                    <div>[[invoiceView.subtotal]]</div>
                    <div>{{formattedSubtotal}}</div>
                </div>
                <div id="invoice-tax-line-items-wrapper">
                    {{#taxes}}
                    <div class="invoice-row">
                        <div>{{name}}<span class="tax-rate-text">({{formattedTaxRate}})</span></div>
                        <div id="invoice-tax">{{formattedTaxAmount}}</div>
                    </div>

                    {{/taxes}}
                </div>
                <div class="invoice-row">
                    <div>[[invoiceView.total]]</div>
                    <div class="invoice-total">{{formattedTotal}}</div>
                </div>
            </div>

            <div class="invoice-terms">
                [[invoiceView.terms]]
            </div>
        </div>
    </div>


    <div id="template-invoice-builder">
        <div id="invoice-builder">
            <div id="choose-invoice-tasks"></div>
            <div id="invoice-preview"></div>
        </div>
    </div>


    <div id="template-invoice-editor-menu">
        <ul class="invoice-editor-menu {{menuClass}}">
            <li id="save-invoice" class="button blue small">[[invoiceEditor.doneButton]]</li>
            <li id="close-import-tasks" class="button blue small">[[invoiceEditor.saveButton]]</li>
            {{#if invoice.isRecurring}}
            {{else}}
            <li id="make-recurring" class="button small">[[invoiceEditor.makeRecurring]]</li>
            {{/if}}
            <li id="import-tasks" class="button small">[[invoiceEditor.importTasksButton]]</li>
            <li id="delete-invoice" class="button small">[[invoiceEditor.deleteButton]]</li>
        </ul>
    </div>

    <div id="template-invoice-details">
        <div id="invoice-details">
            <div id="invoice-details-inner-wrapper">
                <div class="invoice-wrapper"></div>
                <div class="invoice-meta-wrapper">
                    <div class="client-name">{{client.name}}</div>
                    <div class="invoice-due-date"><span>[[invoiceDetails.number]]:</span> {{number}}</div>
                    <div class="invoice-due-date"><span>[[invoiceDetails.dueDate]]:</span> {{dueDateText}}</div>
                    <div class="invoice-status"><span>[[invoiceDetails.status]]:</span> <span
                            class="status-text">{{statusText}}</span></div>
                    <div class="invoice-date-sent"><span>[[invoiceDetails.dateCreated]]:</span> {{dateCreatedText}}</div>
                    <div class="invoice-date-sent"><span>[[invoiceDetails.dateSent]]:</span> {{dateSentText}}</div>
                    <div class="invoice-date-sent"><span><strong>[[invoiceDetails.balance]]:</strong></span><strong>{{formattedBalance}}</strong></div>
                    <hr>

                    {{#if estimateId}}
                    <span class="details-info">
                        This invoice was created from an <a href="#estimates/{{estimateId}}">estimate</a>
                    </span>
                    {{/if}}

                    {{#if userIsAdmin}}
                    {{#if isRecurring}}
                     <span class="details-info">
                        This invoice is part of a <a href="#recurringinvoices/{{recurringInvoiceId}}">recurring series</a>.

                         <br><br>The next invoice date is {{formattedNextInvoiceDate}}
                    </span>
                    {{/if}}

                    <button class="entity-link" title="Get link"></button>
                    {{/if}}


                </div>
            </div>

        </div>

    </div>


    <div id="template-estimate-details">
        <div id="estimate-details">
            <div id="invoice-details-inner-wrapper">
                <div class="invoice-wrapper unfloat-on-mobile"></div>
                <div class="invoice-meta-wrapper unfloat-on-mobile">
                    <div class="client-name">{{client.name}}</div>
                    <div class="invoice-due-date"><span>[[estimateDetails.estimateNumber]]:</span> {{number}}</div>
                    <div class="invoice-date-sent"><span>[[estimateDetails.dateCreated]]:</span> {{dateCreatedText}}</div>
                    <div class="invoice-date-sent"><span>[[estimateDetails.dateSent]]:</span> {{dateSentText}}</div>
                    <div class="estimate-status"><span>[[estimateDetails.status]]:</span>
                        {{#if isApproved}}
                        <span class="status-text approved">[[estimateDetails.approved]] </span>
                        {{/if}}

                        {{#if isRejected}}
                        <span class="status-text rejected">[[estimateDetails.rejected]] </span>
                        {{/if}}


                    </div>
                    <hr>

                    {{#if userIsAdmin}}
                    <button class="entity-link" title="Get link"></button>
                    {{/if}}
                </div>
            </div>
        </div>

    </div>

    <div id="template-user-quick-access-panel">
        <div class="user-quick-access-panel">
            <div class="quick-access-top">
                <div class="user-image user-image-large">
                    <a href="#"></a>
                </div>
                <h4>{{first_name}} {{last_name}}</h4>
            </div>
            <div class="quick-access-content">
                <ul>
                    <li><span class="icon ti-user"></span><a href="#users/{{id}}">[[userQuickAccessView.goToProfile]]</a>
                    </li>
                    <li><span class="icon ti-lock"></span><a id="change-password" href="#">[[userQuickAccessView.changePassword]]</a>
                    </li>
                    <li><span class="icon ti-image"></span>

                        <div id="quick-access-change-photo" class="button clear-button">

                            [[userQuickAccessView.changeProfilePhoto]]
                            <input id="fileupload" type="file" name="files[]" multiple>
                        </div>
                    </li>
                    <li><span class="icon ti-thumb-up"></span><a
                            href="#admin/feedback">[[userQuickAccessView.referAFriend]]</a></li>
                    <li><span class="icon ti-power-off"></span><a href="#logout">[[userQuickAccessView.logout]]</a></li>
                </ul>
            </div>

        </div>
    </div>

    <div id="template-invoice-builder-task-list">
        <div id="invoice-builder-task-list" class="nano top">
            <div class="content">
                <div class="task-list-menu"><a class="show-completed-tasks" href="#">[[invoiceEditor.showCompetedTasks]]</a>
                </div>
                <ul id="completed-tasks-list" class="list condensed task-list"></ul>
                <ul id="incomplete-tasks-list" class="list condensed task-list connected-sortable">
                    {{#tasks}}
                    <li class="task {{statusClass}}" data-id={{id}}>
                        <div class="task-details">{{task}}</div>
                        <div class="task-total-time">{{formattedTotalTime}}</div>
                    </li>
                    {{/tasks}}
                </ul>
            </div>
        </div>
    </div>

    <div id="template-invoice-builder-task-list-task">
        <li class="task {{statusClass}}" data-id={{id}}>
            <div class="task-details">{{task}}</div>
        </li>
    </div>

    <div id="template-invoice-line-item">
        <li class="line-item" data-id="{{id}}" data-cid="{{cid}}">
            <div class="invoice-item">{{item}}</div>
            <div class="invoice-quantity">{{quantity}}</div>
            <div class="invoice-rate">{{rate}}</div>
            <div class="invoice-tax-rate">
                {{#each taxes}}
                <span>{{name}}</span>
                {{/each}}
            </div>
            <div class="invoice-subtotal">{{formattedSubtotal}}</div>
            <div class="line-item-actions">
                <div class="edit-item  invoice-item-action" title="[[invoiceEditor.editItemTitle]]"></div>
                <div class="delete-item  invoice-item-action" title="[[invoiceEditor.deleteItemTitle]]"></div>
            </div>
        </li>
    </div>

    <div id="template-sidebar">

        <div id="sidebar-wrapper">
            <div id="logo-space"></div>
            <div id="current-user-space"></div>

            <div id="sidebar-menu">
                <ul id="sidebar-menu-items">
                    <li id="dashboard-tab"><span class="sidebar-icon ti-home "></span><a
                            href="#dashboard"><span>[[sidebar.dashboard]]</span></a></li>
                    <li id="projects-tab"><span class="sidebar-icon ti-briefcase"></span><a
                            href="#projects"><span>Projects</span></a></li>
                    <li id="billing-tab" class="section">
                        <span class="sidebar-icon ti-wallet"></span>
                        <span class="section-name">[[sidebar.billing]]</span>
                        <ul class="sub-menu">
                            <li id="estimates-tab"><a href="#estimates">[[sidebar.estimates]]</a></li>
                            <li id="invoices-tab"><a href="#invoices">[[sidebar.invoices]]</a></li>

                            {{#userIsAdmin}}
                            <li id="recurringinvoices-tab"><a href="#recurringinvoices">[[sidebar.recurringInvoices]]</a></li>
                            <!--<li class="divider">-->
                            <!--<hr>-->
                            <!--</li>-->
                            <!--<li id="overdue-tab"><a href="#invoices/overdue">Overdue <span class="bubble">12</span></a></li>-->
                            <!--<li id="paid-tab"><a href="#invoices/paid">Paid</a></li>-->
                            {{/userIsAdmin}}
                        </ul>
                    </li>

                    {{#userIsAdmin}}
                    <li id="reporting-tab"><span class="sidebar-icon ti-stats-up"></span><a
                            href="#reporting"><span>[[sidebar.reporting]]</span></a>
                    </li>
                    {{/userIsAdmin}}

                    <li id="admin-tab" class="section">
                        <span class="sidebar-icon ti-wallet"></span>
                        <span class="section-name">[[sidebar.misc]]</span>
                        <ul class="sub-menu">
                            {{#userIsAdmin}}

                            <li id="clients-tab"><span class="sidebar-icon ti-user"></span><a
                                    href="#clients"><span>[[sidebar.clients]]</span></a></li>
                            {{/userIsAdmin}}
                            <li id="users-tab"><span class="sidebar-icon ti-star"></span><a
                                    href="#users"><span>[[sidebar.users]]</span></a>
                            </li>
                            {{#userIsAdmin}}
                            <li id="templates-tab"><span class="sidebar-icon ti-folder"></span><a href="#templates"><span>[[sidebar.projectTemplates]]</span></a>
                            </li>
                            <li id="settings-tab"><span class="sidebar-icon ti-settings"></span>
                                <a href="#settings"><span>Settings</span></a>
                            </li>
                            {{/userIsAdmin}}
                        </ul>
                    </li>




                </ul>

                <div id="global-search-space"></div>

            </div>


            <div id="running-timer-space"></div>
            <div id="footer-space">

                <!--<a href="#settings" title="Settings"><span class="icon-settings"></span></a>-->
                <!--<a href="#logout" title="Logout"><span class="icon-switch"></span></a>-->
            </div>
        </div>
    </div>

    <div id="template-client-details">
        <div class=" client-details">
            <div class="item-details-inner">

                <div class="client-contact-info unfloat-on-mobile">
                    <h6>[[clientDetails.title]]</h6>

                    <ul class="item-details-list">

                        <li class="address-details">
                            <div class="icon ti-id-badge"></div>
                            <div class="address">{{address1}}<br/>{{address2}}</div>
                        </li>
                        <li class="phone-details">
                            <div class="icon ti-microphone"></div>
                            {{phone}}
                        </li>
                        <li class="website-details">
                            <div class="icon ti-shine"></div>
                            <a href="http://{{website}}" target="_blank">{{website}}</a>
                        </li>

                    </ul>
                    <div class="entity-actions"></div>







                    <div class="item-notes client-notes">

                    </div>
                </div>

                <div class="tabs-outer">
                    <dl class="tabs">
                        <dd class="active"><a href="#client-projects-tab">[[clientDetails.projectsTab]]</a></dd>
                        <dd class=""><a href="#client-users-tab">[[clientDetails.usersTab]]</a></dd>
                        <dd class="hide-for-small"><a href="#client-invoices-tab">[[clientDetails.invoicesTab]]</a></dd>
                    </dl>
                    <ul class="tabs-content">
                        <li class="active" id="client-projects-tab">
                            <ul class="attachment-list">
                                <li>[[clientDetails.noProjects]]</li>
                            </ul>
                        </li>

                        <li id="client-users-tab">
                            <ul class="attachment-list">
                                <li>[[clientDetails.noUsers]]</li>
                            </ul>
                        </li>


                        <li id="client-invoices-tab">
                            <ul class="attachment-list">
                                <li>[[clientDetails.noInvoices]]</li>
                            </ul>
                        </li>

                    </ul>
                </div>


            </div>
        </div>


    </div>

    <div id="template-client-projects">
        <div class="list condensed project-list">
            <div class="list-main-header">
                <div class="project-name">[[clientDetails.projectName]]</div>
                <div class="project-due-date">[[clientDetails.projectDueDate]]</div>
                <div class="project-status">[[clientDetails.projectStatus]]</div>
            </div>
            <ul class="list condensed">
                {{#projects}}
                <li class="{{statusText}}" data-type="{{type}}" data-id={{id}}>
                    <div class="project-name">{{name}}</div>
                    <div class="project-due-date">{{formattedDueDate}}</div>
                    <div class="project-status">{{formattedStatusText}}</div>
                </li>
                {{/projects}}
            </ul>

        </div>
    </div>

    <div id="template-client-users">
        <div class="list condensed user-list">
            <div class="list-main-header">
                <div class="user-image-container"></div>
                <div class="user-name">[[clientDetails.userName]]</div>
                <div class="user-email">[[clientDetails.userEmail]]</div>
            </div>
            <ul class="list condensed">
                {{#users}}
                <li class="{{statusClass}}" data-type="{{type}}" data-id={{id}}>
                    <div class="user-image-container">
                        <a class="user-image"></a>
                    </div>
                    <div class="user-name">{{name}}</div>
                    <div class="user-email">{{email}}</div>
                </li>
                {{/users}}
            </ul>
        </div>
    </div>

    <div id="template-client-invoices">
        <div class="list condensed invoice-list">
            <div class="list-main-header">
                <div class="invoice-number">[[clientDetails.invoiceNumber]]</div>
                <div class="invoice-total">[[clientDetails.invoiceTotal]]</div>
                <div class="invoice-balance">[[clientDetails.invoiceBalance]]</div>
                <div class="invoice-status">[[clientDetails.invoiceStatus]]</div>
                <div class="invoice-due-date">[[clientDetails.invoiceDueDate]]</div>
            </div>

            <ul class="">
                {{#invoices}}
                <li class="{{statusClass}}" data-type="{{type}}" data-id={{id}}>
                    <div class="invoice-number">{{number}}</div>
                    <div class="invoice-total">{{formattedTotal}}</div>
                    <div class="invoice-balance">{{formattedBalance}}</div>
                    <div class="invoice-status {{statusClass}}"><span class="status-text">{{statusText}}</span></div>
                    <div class="invoice-due-date">{{dueDateHumanized}}</div>
                </li>
                {{/invoices}}
            </ul>
        </div>
    </div>


    <div id="template-form-client-primary-contact">
        <form action="#" method="post" data-model="client" novalidate>

            <div class="field">
                <select name="primary_contact_id" data-placeholder="[[clientDetails.choosePrimaryContactPlaceholder]]"
                        required="required">
                    <option></option>
                </select>
            </div>


            <input type="submit" value="Submit">
        </form>
    </div>

    <div id="template-form-client-set-tax-rate">
        <form action="#" method="post" data-model="ClientTaxRate" novalidate>

            <div class="field">

            </div>

            <input type="hidden" value="{{clientId}}" name="client_id">
            <input type="submit" value="Submit">
        </form>
    </div>

    <div id="template-form-client-user">
        <form id="add-client-user" action="#" method="post" data-model="user" novalidate>

            {{#if chooseClient}}
            <div class="field">

                <label for="">[[clientDetails.chooseClient]]</label>
                <select name="client_id" id="">
                    <option></option>
                </select>

            </div>
            {{else}}

            <input type="hidden" name="client_id" value="{{id}}">

            {{/if}}

            <div class="field">
                <label for="">[[clientDetails.firstName]]</label>
                <input type="text" required="required" name="first_name">

            </div>

            <div class="field">
                <label for="">[[clientDetails.lastName]]</label>
                <input type="text" required="required" name="last_name">

            </div>

            <div class="field">
                <label for="">[[clientDetails.emailAddress]]</label>
                <input type="text" required="required" name="email">
            </div>

            <span id="show-form-details" class="button tiny flat">[[clientDetails.addAdditionalDetails]]</span>
            <span id="hide-form-details" class="button tiny flat">[[clientDetails.hideAdditionalDetails]]</span>

            <div id="form-more">
                <div class="field">
                    <label for="">[[clientDetails.address1]]</label>
                    <input type="text" name="address1">
                </div>

                <div class="field">
                    <label for="">[[clientDetails.address2]]</label>
                    <input type="text" name="address2">
                </div>

                <div class="field">
                    <label for="">[[clientDetails.phone]]</label>
                    <input type="text" name="phone">
                </div>
            </div>


            <input type="submit" value="[[form.submit]]">
        </form>
    </div>

    <div id="template-form-user-edit">
        <form id="edit-user" action="#" method="post" data-model="user" novalidate>

            <div class="field">
                <label for="">[[clientDetails.firstName]]</label>
                <input type="text" required="required" name="first_name">

            </div>

            <div class="field">
                <label for="">[[clientDetails.lastName]]</label>
                <input type="text" required="required" name="last_name">

            </div>

            <div class="field">
                <label for="">[[clientDetails.emailAddress]]</label>
                <input type="text" required="required" name="email">
            </div>

            <span id="show-form-details" class="button tiny flat">[[clientDetails.addAdditionalDetails]]</span>
            <span id="hide-form-details" class="button tiny flat">[[clientDetails.hideAdditionalDetails]]</span>

            <div id="form-more">
                <div class="field">
                    <label for="">[[clientDetails.address1]]</label>
                    <input type="text" name="address1">
                </div>

                <div class="field">
                    <label for="">[[clientDetails.address2]]</label>
                    <input type="text" name="address2">
                </div>

                <div class="field">
                    <label for="">[[clientDetails.phone]]</label>
                    <input type="text" name="phone">
                </div>
            </div>

            <input type="submit" value="[[form.submit]]">
        </form>
    </div>

    <div id="template-form-client">
        <form id="add-client" action="#" method="post" data-model="client" novalidate>

            <div class="field">
                <label for="">[[clientForm.name]]</label>
                <input type="text" required="required" name="name">

            </div>

            <h4>[[clientForm.primaryContact]]</h4>

            <div class="field">
                <label for="">[[clientForm.contactFirstName]]</label>
                <input type="text" required="required" name="client[first_name]">
            </div>

            <div class="field">
                <label for="">[[clientForm.contactLastName]]</label>
                <input type="text" required="required" name="client[last_name]">

            </div>

            <div class="field">
                <label for="">[[clientForm.contactEmail]]</label>
                <input type="text" required="required" name="client[email]">
            </div>

            <span id="show-form-details" class="button tiny flat">[[clientForm.addAdditionalDetails]]</span>
            <span id="hide-form-details" class="button tiny flat">[[clientForm.hideAdditionalDetails]]</span>

            <div id="form-more">
                <div class="field">
                    <label for="">[[clientForm.address1]]</label>
                    <input type="text" name="address1">
                </div>

                <div class="field">
                    <label for="">[[clientForm.address2]]</label>
                    <input type="text" name="address2">
                </div>

                <div class="field">
                    <label for="">[[clientForm.phone]]</label>
                    <input type="text" name="phone">
                </div>

                <div class="field">
                    <label for="">[[clientForm.website]]</label>
                    <input type="text" name="website">
                </div>
            </div>

            <input type="submit" value="[[form.submit]]">
        </form>
    </div>


    <div id="template-form-client-edit">
        <form id="add-client" action="#" method="post" data-model="client" novalidate>

            <div class="field">
                <label for="">[[clientForm.name]]</label>
                <input type="text" required="required" name="name">

            </div>

            <div class="field">
                <label for="">[[clientForm.address1]]</label>
                <input type="text" name="address1">
            </div>

            <div class="field">
                <label for="">[[clientForm.address2]]</label>
                <input type="text" name="address2">
            </div>

            <div class="field">
                <label for="">[[clientForm.phone]]</label>
                <input type="text" name="phone">
            </div>

            <div class="field">
                <label for="">[[clientForm.website]]</label>
                <input type="text" name="website">
            </div>


            <input type="submit" value="[[form.submit]]">
        </form>
    </div>

    <div id="template-user-details">
        <div class="user-details">
            <div class="">
                <div class="user-image">
                    <div class="user-image-inner"></div>

                </div>
                <div class="user-contact-info">

                    {{#isClient}}
                    <h6>[[userDetails.organization]]</h6>


                    <a href="#clients/{{clientId}}">{{clientName}}</a>

                    {{/isClient}}


                    <br>
                    <h4 class="role">{{name}} ({{role}})</h4>




                    <ul class="item-details-list">
                        <li class="email-details">
                            <div class="icon ti-email"></div>
                            {{email}}
                        </li>
                        <li class="address-details">
                            <div class="icon ti-id-badge"></div>
                            <div class="address">{{address1}}<br/>{{address2}}</div>
                        </li>
                        <li class="phone-details">
                            <div class="icon ti-microphone"></div>
                            {{phone}}
                        </li>


                    </ul>

                    <div class="user-actions entity-actions">


                    </div>
                </div>
            </div>



            <div class="item-notes user-notes">

            </div>

        </div>

    </div>

    <div id="template-login">
        <div id="login-screen">


            <div id="login-form">
                <div id="form-overlay"></div>
                <div class="form-content">
                    <h2 class="login-title">{{company}}</h2>
                    <h5 class="login-subtitle">Sign In</h5>

                    <div class="login-window">


                        <p>[[loginForm.instructions]]</p>

                        <div id="login-status">{{message}}</div>
                        <form method="post">

                            <div class="login-fields">
                                <div>
                                    <input type="text" name="username" id="username" placeholder="[[loginForm.emailPlaceholder]]">
                                    <label class="icon ti-user" for="username"></label>
                                </div>

                                <div class="password-field">
                                    <input type="password" name="password" id="password" placeholder="[[loginForm.passwordPlaceholder]]">
                                    <label class="icon ti-lock" for="password"></label>
                                </div>
                            </div>



                            <button type="submit">
                                [[loginForm.login]]
                                <span class="ti-angle-right"></span>
                            </button>

                            <a href="#forgot_password" class="forgot-password">[[loginForm.forgotPassword]]</a>
                        </form>

                    </div>
                </div>
            </div>
            <div class="login-footer">
                <a href="https://duetapp.com" target="_blank">Powered by Duet Project Management</a>
            </div>
        </div>

    </div>

    <div id="template-page-progress">
        <div id="top-progress-bar">
            <div class="bar" role="bar">
                <div class="peg"></div>
            </div>
            <div class="spinner" role="spinner">
                <div class="spinner-icon"></div>
            </div>
        </div>

    </div>

    <div id="template-base-layout">
        <div id="app-wrapper">
            <div id="page-progress-wrapper">

            </div>
            <div id="notification-space">

            </div>
            <div id="sidebar">

            </div>
            <div id="slide-out-panel-wrapper"></div>

            <div class="window-outer">
                <div class="window messages-closed"></div>
            </div>
            <div id="mobile-menu-button"><span class="ti-menu"></span></div>

            <div id="mobile-overlay"></div>
        </div>
    </div>


    <div id="template-current-user">
        <div id="current-user" class="header-button">
            <div class="user-image-wrapper"><a class="user-image" href="#profile"></a></div>

            <div class="user-meta">
                <div class="user-name">{{userName}}</div>
                <div class="user-role">&nbsp;({{userRole}})</div>
            </div>
        </div>
    </div>

    <div id="template-global-search-input">
        <div id="global-search-wrapper"><input id="global-search" type="text" value="" name="q" class="text"
                                               placeholder="search"></div>
    </div>


    <div id="template-slide-out-panel">
        <div class="slide-out-panel">

        </div>
    </div>

    <div id="template-entity-list">
        <div class="entity-list">
            <div class="entity-list-header">
                <h4 class="entity-list-title">{{entityNamePlural}}</h4>

                <div class="panel-sort-wrapper"></div>

                <div class="panel-filter-wrapper"></div>

                <div class="entity-actions">
                    <div class="entity-list-button">New {{entityName}}</div>
                </div>
            </div>
            <div class="entity-list-content"></div>
        </div>
    </div>


    <div id="template-modal">
        <div class="modal-overlay">
            <div class="modal">
                <div class="modal-info">
                    <h3>{{title}}</h3>

                    <div class="close ti-close"></div>
                </div>
                {{content}}
            </div>
        </div>
    </div>

    <div id="template-form-project">
        <form id="project-form" action="#" method="post" data-model="project" novalidate>
            <div class="field">
                <label for="">[[projectForm.name]]</label>
                <input type="text" required="required" name="name">

            </div>

            <div class="field">
                <label for="">[[projectForm.chooseClient]]</label>
                <select name="client_id" data-placeholder=" " required="required">
                    <option></option>
                </select>
            </div>

            <div>
                <div class="field inline f_50">
                    <label for="">[[projectForm.startDate]]</label>
                    <input type="date" name="start_date_selection" required="required"/>
                </div>

                <div class="field inline f_50">
                    <label for="">[[projectForm.dueDate]]</label>
                    <input type="date" name="due_date_selection"/>
                </div>
            </div>

            <input type="hidden" name="start_date"/>
            <input type="hidden" name="due_date"/>

            <input type="submit" value="[[form.submit]]">
        </form>
    </div>


    <div id="template-form-project-task">
        <form id="new-task-form" action="#" method="post" data-model="task" novalidate>
            <div class="field">
                <label for="">[[taskForm.task]]</label>
                <textarea rows=3 cols=20 name="task"></textarea>
            </div>

            <span class="add-notes clickable">[[taskForm.addNotes]]</span>

            <div class="field  notes-wrapper">
                <label for="">[[taskForm.notes]]</label>
                <textarea rows=3 cols=20 name="notes"></textarea>
            </div>

            <div class="field">
                <label>[[taskForm.assignedTo]]</label>
                <select name="assigned_to" data-placeholder="[[taskForm.assignedTo]]">
                    <option></option>
                </select>
            </div>


            <div class="field">
                <label for="">[[taskForm.dueDate]]</label>
                <input type="date" name="due_date_selection"/>
            </div>

            <input type="hidden" name="due_date"/>
            <input type="hidden" name="project_id"/>

            <input type="submit" value="[[form.submit]]">
        </form>
    </div>

    <div id="template-form-task-weight">
        <form id="task-weight-form" action="#" method="post" data-model="task" novalidate>
            <div class="notification">[[taskWeightForm.pleaseWait]]</div>

            <p>[[taskWeightForm.enterValue]] <span class="task-maximum-weight"><span
                    class="loading-maximum-weight"></span></span>[[taskWeightForm.calculatedAutomatically]]</p>

            <div class="field">
                <label for="">[[taskWeightForm.taskWeight]]</label>
                <input class="task-weight" type="text" name="weight" placeholder="Auto"/>
            </div>

            <div class="submit-button">
                <input value="[[form.submit]]" class="button medium blue" type="submit">
            </div>
        </form>
    </div>

    <div id="template-form-project-file">
        <form method="post" data-model="file" novalidate action="#">

            <div id="progress-wrapper"></div>

            <!--<div id="select-files" class="field">-->
            <!--<input id="fileupload" type="file" name="files[]" multiple>-->
            <!--</div>-->

            <a id="cancel-all" class="button red submit" href="#">[[projectFileForm.cancel]]</a>
        </form>

    </div>

    <div id="template-file-progress">
        <div class="progress-bar-wrapper" data-file="{{fileName}}" data-id="{{id}}">
            <div class="clearfix">
                <div class="filename">{{fileName}}</div>
                <a href="#" class="cancel">[[fileProgress.cancel]]</a>

                <div class="status">[[fileProgress.status]]</div>
            </div>
            <div class="progress"><span class="orange" style="width: 0%;"><span>0%</span></span></div>

        </div>
    </div>

    <div id="template-add-project-list-item">
        <div id="{{buttonId}}" class="button clear-button add-list-item {{type}}"
             title="[[addProjectListItem.title]] {{buttonText}}">
            <div class="icon ti-plus add-item"></div>
            {{buttonText}}
        </div>
    </div>

    <div id="template-edit-notes-button">
        <div id="{{buttonId}}" class="button clear-button new-entity edit-notes {{type}}" title="{{buttonText}}">
            <div class="icon ti-pencil edit-notes"></div>
            {{buttonText}}
        </div>
    </div>


    <div id="template-add-file-button">
        <div id="{{buttonId}}" class="button clear-button add-file-button {{type}}" title="Add New {{buttonText}}">
            {{#if showIcon}}
            <div class="icon ti-plus add-item"></div>
            {{/if}}
            {{buttonText}}
            <input id="fileupload" type="file" name="files[]" multiple>
        </div>
    </div>


    <div id="template-task-add-file-button">
        <div id="{{buttonId}}" class="button small add-file-button {{type}}" title="[[addFileButton.title]] {{buttonText}}">
            {{buttonText}}
            <input id="fileupload" type="file" name="files[]" multiple>
        </div>
    </div>


    <div id="template-calendar">
        <div id="calendar-outer">
            <div id="calendar"></div>
        </div>
    </div>

    <div id="template-calendar-header">
        <div id="calendar-header">

            {{#userIsAdmin}}
            <!--<div class="filter-dropdown">-->
            <!--<div class="filter-button">[[calendarHeader.filter]]<span class="caret caret-down"></span></div>-->

            <!--<ul class="dropdown-menu pull-right">-->
            <!--<li id="filter-my-tasks"><span>[[calendarHeader.myTasks]]</span></li>-->
            <!--<li id="filter-all-tasks" class="selected"><span>[[calendarHeader.allTasks]]</span></li>-->

            <!--</ul>-->
            <!--</div>-->
            {{/userIsAdmin}}

            <div id="calendar-menu">
                <div class="date-name">{{month}}</div>
                <ul id="calendar-controls" class="solid-button-set">
                    <li class="prev-date">&#9668;</li>
                    <li class="today-date">[[calendarHeader.today]]</li>
                    <li class="next-date">&#9658;</li>
                </ul>
                <select id="calendar-view-selector" class="beveled-dropdown">
                    <option value="month">[[calendarHeader.month]]</option>
                    <option value="basicWeek">[[calendarHeader.week]]</option>
                    <option value="basicDay">[[calendarHeader.day]]</option>
                </select>


            </div>
        </div>
    </div>

    <div id="template-calendar-event-item">
        <div class="calendar-event-item {{statusClass}}">
            <div class="task-status"></div>
            <div class="task-name">{{title}}</div>
        </div>
    </div>

    <div id="template-calendar-item-popup">
        <div class="calendar-item-popup">
            <h5 class="popup-title">{{title}}</h5>
            <span class="close vector-icon clickable">x</span>

            <p>{{description}}</p>
            <a href="{{url}}">[[calendarItemPopup.goToTask]]</a>
        </div>
    </div>

    <div id="template-confirm-box">
        <div id="confirm-box" class="{{class}}">
            <h3 class="message">{{message}}</h3>

            <div class="confirmation-buttons">
                <button class="button small red action">{{action}}</button>
                <button class="button small secondary cancel">[[confirmBox.cancel]]</button>

            </div>
        </div>
    </div>

    <div id="template-alert">
        <div class="modal-overlay">
            <div class="modal alert">
                <div class="alert">
                    <p class="message">
                        {{#messages}}
                        {{message}}<br/><br/>
                        {{/messages}}
                    </p>
                    <button class="button small secondary cancel">[[alert.ok]]</button>
                </div>
            </div>
        </div>

    </div>


    <div id="template-form-credit-card-payment">
        <div>
            <form action="#" method="post" id="credit-card-payment-form" class="" data-model="StripePayment">

                <div class="form-fields">

                    <div class="form-header">
                        <h4>[[creditCardPayment.billingInfo]]</h4>

                        <p>[[creditCardPayment.pleaseEnterDetails]]</p>


                        <div class="accepted-cards"></div>

                    </div>


                    <div class="first-name">
                        <input id="first_name" name="first_name" type="text" placeholder="[[creditCardPayment.firstName]]">

                    </div>

                    <div class="last-name">
                        <input id="last_name" name="last_name" type="text" placeholder="[[creditCardPayment.lastName]]">

                    </div>

                    <div id="payment-errors"></div>

                    <div class="card-number">
                        <input type="text" name="card_number" class="card_number"
                               placeholder="[[creditCardPayment.creditCardNumber]]">
                    </div>


                    <div>
                        <div class="top-label">[[creditCardPayment.expirationDate]]</div>

                        <div class="expiration-month">
                            <select data-placeholder="[[creditCardPayment.month]]" class="card_expiry_month"
                                    name="card_expiry_month">

                                <option></option>
                                <option value="1">[[creditCardPayment.jan]]</option>
                                <option value="2">[[creditCardPayment.feb]]</option>
                                <option value="3">[[creditCardPayment.mar]]</option>
                                <option value="4">[[creditCardPayment.apr]]</option>
                                <option value="5">[[creditCardPayment.may]]</option>
                                <option value="6">[[creditCardPayment.jun]]</option>
                                <option value="7">[[creditCardPayment.jul]]</option>
                                <option value="8">[[creditCardPayment.aug]]</option>
                                <option value="9">[[creditCardPayment.sept]]</option>
                                <option value="10">[[creditCardPayment.oct]]</option>
                                <option value="11">[[creditCardPayment.nov]]</option>
                                <option value="12">[[creditCardPayment.dec]]</option>
                            </select>
                        </div>
                        <div class="expiration-year">
                            <select data-placeholder="[[creditCardPayment.year]]" class="card_expiry_year"
                                    name="card_expiry_year">
                                <option></option>
                                <option value="2013">2013</option>
                                <option value="2014">2014</option>
                                <option value="2015">2015</option>
                                <option value="2016" selected="selected">2016</option>
                                <option value="2017">2017</option>
                                <option value="2018">2018</option>
                                <option value="2019">2019</option>
                                <option value="2020">2020</option>
                                <option value="2021">2021</option>
                                <option value="2022">2022</option>
                                <option value="2023">2023</option>
                                <option value="2024">2024</option>
                                <option value="2025">2025</option>
                                <option value="2026">2026</option>
                                <option value="2027">2027</option>
                                <option value="2028">2028</option>
                            </select>
                        </div>
                        <div class="cvc">
                            <input type="text" class="card_cvc" name="card_cvc" placeholder="[[creditCardPayment.cvc]]">
                        </div>

                    </div>
                </div>


                <div class="invoice-summary">


                    <div class="invoice-meta-wrapper">
                        <div class="invoice-number">[[creditCardPayment.invoice]] {{number}}</div>
                        <div class="invoice-due-date"><span>[[creditCardPayment.dueDate]]:</span> {{dueDateText}}</div>
                        <div class="invoice-status {{statusClass}}"><span>[[creditCardPayment.status]]:</span> <span
                                class="status-text">{{statusText}}</span>
                        </div>
                        <div class="invoice-date-sent"><span>[[creditCardPayment.balance]]:</span> {{formattedBalance}}
                        </div>
                    </div>


                </div>

                <input type="hidden" name="amount" value="{{total}}">
                <input type="hidden" name="invoice_id" value="{{id}}">

                <div class="submit-button">
                    <input value="[[creditCardPayment.payInvoice]]" class="button medium blue" type="submit">
                </div>
            </form>
            <div id="payment-processing-overlay">
                <div><span>[[creditCardPayment.pleaseWait]]</span><br/>[[creditCardPayment.paymentProcessing]]</div>
            </div>
        </div>
    </div>

    <div id="template-form-paypal-payment">
        <form id="paypal-payment-form" method="post" action="#" data-model="PaypalPayment">
            <div class="paypal-instructions">
                <p>[[paypalForm.instructions]]</p>
                <img src="client/images/paypal.jpg"/>
            </div>
            <div class="invoice-summary">
                <div class="invoice-meta-wrapper">
                    <div class="invoice-number">[[paypalForm.invoice]] {{number}}</div>
                    <div class="invoice-due-date"><span>[[paypalForm.dueDate]]:</span> {{dueDateText}}</div>
                    <div class="invoice-status {{statusClass}}"><span>[[paypalForm.status]]:</span> <span
                            class="status-text">{{statusText}}</span>
                    </div>
                    <div class="invoice-date-sent"><span>[[paypalForm.balance]]:</span> {{formattedBalance}}</div>
                </div>
            </div>

            <input type="hidden" name="amount" value="{{total}}">
            <input type="hidden" name="invoice_id" value="{{id}}">

            <div class="submit-button">
                <input value="[[paypalForm.payWithPaypal]]" class="button medium blue" type="submit">
            </div>
        </form>
    </div>

    <div id="template-form-manual-payment">
        <form id="manual-payment-form" method="post" action="#" data-model="ManualPayment">
            <div class="form-fields">

                <div class="form-header">
                    <p>[[manualPayment.instructions]]</p>
                </div>


                <div class="amount field">
                    <h4>[[manualPayment.paymentAmount]]: {{formattedBalance}}</h4></br>
                </div>

                <div class="payment-date">
                    <input name="payment_date_selection" type="date" placeholder="[[manualPayment.date]]">
                    <input name="payment_date" type="hidden">
                </div>

                <div class="payment-method">
                    <input name="payment_method" type="text" placeholder="[[manualPayment.method]]">
                </div>

                <div class="description">
                    <textarea rows="4" cols="20" name="description" placeholder="[[manualPayment.notes]]"></textarea>
                </div>

            </div>

            <div class="invoice-summary">
                <div class="invoice-meta-wrapper">
                    <div class="invoice-number">[[manualPayment.invoice]] {{number}}</div>
                    <div class="invoice-due-date"><span>[[manualPayment.dueDate]]:</span> {{dueDateText}}</div>
                    <div class="invoice-status {{statusClass}}"><span>[[manualPayment.status]]:</span> <span
                            class="status-text">{{statusText}}</span>
                    </div>
                    <div class="invoice-date-sent"><span>[[manualPayment.balance]]:</span> {{formattedBalance}}</div>
                </div>
            </div>


            <input type="hidden" name="amount" value="{{balance}}">
            <input type="hidden" name="invoice_id" value="{{id}}">

            <div class="submit-button">
                <input value="[[manualPayment.enterPayment]]" class="button medium blue" type="submit">
            </div>
        </form>
    </div>

    <div id="template-no-payment-method">
        <div>
            <p>{{paymentInstructions}}<br></p>

            <div class="ok button blue right">[[noPaymentMethod.ok]]</div>
        </div>
    </div>

    <div id="template-error">
        <div class="notification error closeable">
            {{message}}
            <a href="#" class="close"></a>
        </div>
    </div>

    <div id="template-notice">
        <div class="notification notice closeable">
            {{message}}
            <a href="#" class="close"></a>
        </div>
    </div>

    <div id="template-notification">
        <div class="notification notice closeable">
            <div class="notification-inner">{{message}}</div>
            <span class="close" title="close"></span>
        </div>
    </div>


    <div id="template-project-details">
        <div id="project-details" class="{{project.status_text}}">

            <div id="top-details" class="{{#hasDueDate}}has-due-date{{/hasDueDate}}">

                {{#hasDueDate}}
                <div>
                    <h5>[[projectDetails.dueDate]]</h5>
                    <h3>{{formattedDueDate}}</h3>
                </div>
                {{/hasDueDate}}


                <div>
                    <h5>[[projectDetails.status]] <span class="status-indicator {{project.status_text}}"></span></h5>

                    <h3 class="{{project.status_text}}">{{formattedStatusText}}<span> ({{projectProgress}})</span>
                    </h3>
                </div>


                <div>
                    <h5>[[projectDetails.totalTime]]</h5>
                    <h3>{{formattedTotalTime}}</h3>
                </div>

                <div>
                    <h5>[[projectDetails.invoiceStatsBilled]]</h5>
                    <h3>{{formattedTotalBilled}}</h3>
                </div>

                <div>
                    <h5>[[projectDetails.invoiceStatsOutstanding]]</h5>
                    <h3>{{formattedTotalOutstanding}}</h3>
                </div>

                <div>
                    <h5>[[projectDetails.openTasks]]</h5>
                    <h3>{{taskCounts.incomplete}}</h3>
                </div>
            </div>


            <div id="main-dashboard">
                <div id="activity-stream-space" class="unfloat-on-mobile">
                    <h5 class="section-title">[[projectDetails.projectActivity]]</h5>

                    <div class="activity-stream">

                    </div>
                </div>

                {{#isRegularProject}}
                <div class="project-stats unfloat-on-mobile">

                    {{#userIsAdmin}}

                    <h5 class="section-title">[[projectDetails.client]]</h5>

                    <p><span class="icon ti-user"></span><a
                            href="#clients/{{project.client_id}}">{{project.client_name}}</a></p>
                    {{/userIsAdmin}}


                    <div class="people-section">
                        <h5 class="section-title">[[projectDetails.people]]</h5>

                        <div class="people-list">
                            <ul class="">
                                {{#people.agents}}
                                <li class="person-info" data-id={{id}}>
                                    <a href="#users/{{id}}">
                                        <span class="person-image user-image"></span>
                                <span class="person-meta">
                                    <span class="person-name">{{first_name}} {{last_name}}</span>
                                    <span class="person-role">{{role}}</span>
                                </span>
                                    </a>
                                </li>
                                {{/people.agents}}

                                {{#people.clients}}
                                <li class="person-info" data-id={{id}}>
                                    <a href="#users/{{id}}">
                                        <span class="person-image user-image"></span>
                                <span class="person-meta">
                                    <span class="person-name">{{first_name}} {{last_name}}</span>
                                    <span class="person-role">{{role}}</span>
                                </span>
                                    </a>
                                </li>
                                {{/people.clients}}


                                {{#people.admins}}
                                <li class="person-info" data-id={{id}}>
                                    <a href="#users/{{id}}">
                                        <span class="person-image user-image"></span>
                                <span class="person-meta">
                                    <span class="person-name">{{first_name}} {{last_name}}</span>
                                    <span class="person-role">{{role}}</span>
                                </span>
                                    </a>
                                </li>
                                {{/people.admins}}
                            </ul>
                        </div>


                    </div>
                </div>
                {{/isRegularProject}}


            </div>

        </div>

    </div>


    <div id="template-activity-list">
        <div class="activity-stream-wrapper">
            <ul class="activity-stream-list">
                {{#activityItems}}
                <li class="activity-{{objectType}} activity-{{actionTaken}} hidden" data-id="{{id}}">

                    <div class="activity-meta">

                        <div class="marker"></div>

                        <div class="icons">
                            <div class="type-icon"><span class="ti-{{iconName}}"></span></div>
                            <a href="#{{#isUserGenerated}}users/{{userId}}{{/isUserGenerated}}"
                               class="user-image"></a>
                        </div>

                    </div>


                    <div class="activity-content">

                <span class="activity-description">
                    {{#isUserGenerated}}<a href="#users/{{userId}}" class="activity-user">{{userName}}</a>
                    {{/isUserGenerated}}{{actionTaken}} {{article}}
                    {{objectTypeText}}


                    {{#hasLinkedObject}}
                    [[activity.on]] {{linkedArticle}} {{linkedObjectTypeText}}
                    (<span class="linked-activity-title"><a href="{{linkedObjectLink}}"
                                                            class="linked-object-link">{{linkedObjectTitle}}</a></span>)
                    {{/hasLinkedObject}}
                </span>


                        <span class="activity-timestamp" title="{{dateText}}">{{formattedDate}}</span>

                        <div class="activity-title">
                            {{! We're using triple brackets for the object title because it may contain html and since
                            it's generated by the server, we can trust it}}
                            <a href="{{objectLink}}" class="object-link">{{{objectTitle}}}</a>
                            <span class="object-link deleted-object">{{objectTitle}}</span>
                        </div>
                    </div>
                </li>
                {{/activityItems}}
            </ul>

            <div class="activity-show-all">[[activityList.showAll]]</div>
        </div>

    </div>


    <div id="template-task-filter">

        <div class="task-filter filter-dropdown">
            <div class="filter-button"><span class="ti-angle-down"></span>[[taskFilter.filter]]</div>

            <ul class="dropdown-menu pull-right">
                <li data-filter-type="complete" data-filter-value="incomplete"><span>[[taskFilter.incomplete]]</span></li>
                <li data-filter-type="complete" data-filter-value="complete"><span>[[taskFilter.complete]]</span></li>
                <li data-filter-type="complete" data-filter-value="all"><span>[[taskFilter.all]]</span></li>


                <li class="divider"></li>
                <li data-filter-type="assigned" data-filter-value="mine"><span>[[taskFilter.myTasks]]</span></li>
                <li data-filter-type="assigned" data-filter-value="all"><span>[[taskFilter.allTasks]]</span></li>


                <li class="divider"></li>
                <li class="search-filter" data-filter-type="search">
                    <input type="text" placeholder="[[taskFilter.search]]"/>
                </li>
            </ul>
        </div>

    </div>


    <div id="template-dashboard">

        <div id="dashboard">
            <div id="dashboard-left-column" class="unfloat-on-mobile">
                <div id="dashboard-widgets">
                    <div class="dashboard-widget highlight">
                        <h5>[[dashboard.totalOutstandingInvoices]]</h5>

                        <h2><span class="currency-symbol">{{currencySymbol}}</span>{{formattedTotalOutstanding}}
                        </h2>

                    </div>
                    <div class="dashboard-widget">
                        <h5>[[dashboard.overdueInvoices]]</h5>

                        <h2><span class="currency-symbol">{{currencySymbol}}</span>{{formattedTotalOverdue}}</h2>


                    </div>

                    <div class="dashboard-widget">
                        <h5>[[dashboard.totalBilled]]</h5>

                        <h2><span class="currency-symbol">{{currencySymbol}}</span>{{formattedTotalBilled}}</h2>


                    </div>
                </div>

                <div id="dashboard-upcoming-events">
                    <h4>[[dashboard.upcomingEvents]]</h4>
                    <div class="dashboard-calendar">


                        <div id="calendar-inner"></div>

                    </div>
                    <div id="dashboard-upcoming-events-list">
                        <div id="upcoming-events-filter-title">Showing events for <span id="upcoming-events-filter-date"></span><span class="close ti-close"></span></div>
                        <div class="nano top">
                            <ul class="content">
                                {{#upcomingEvents}}

                                {{#if isTask}}
                                <li data-entity="task" data-date="{{formattedDate}}" data-id="{{id}}">
                                    <h5>[[dashboard.taskDeadline]]: {{formattedDisplayDate}}</h5>

                                    <p>{{project_name}}: {{task}}</p>
                                </li>
                                {{/if}}


                                {{#if isProject}}
                                <li data-entity="project" data-date="{{formattedDate}}" data-id="{{id}}">
                                    <h5>[[dashboard.projectDeadline]]: {{formattedDisplayDate}}</h5>

                                    <p>{{name}}</p>
                                </li>
                                {{/if}}

                                {{/upcomingEvents}}



                            </ul>
                        </div>

                    </div>
                </div>





            </div>
            <div id="dashboard-right-column" class="unfloat-on-mobile">
                <h4>[[dashboard.activity]]</h4>

                <div class="activity-stream"></div>


            </div>

        </div>
    </div>



    <div id="template-dashboard-projects-tile-list">
        <h1>Upcoming milestones</h1>
        <ul class="project-tile-list">
            {{#projects}}
            <li class="project-widget {{statusText}}" data-id="{{id}}">
                <div class="project-title">
                    <h3>{{name}}</h3>

                    <h6>{{clientName}}</h6>
                </div>

                <div class="project-meta">
                    <p>[[dashboardProjectTiles.progress]]: <span>{{progress}}%</span></p>

                    <p>[[dashboardProjectTiles.expectedProgress]]: <span>{{expectedProgress}}%</span></p>

                    <p>[[dashboardProjectTiles.dueDate]]: <span>{{formattedDueDate}}</span></p>
                </div>

                <div class="bottom {{statusText}}">
                    <span class="status">&nbsp;</span>{{formattedStatusText}}

                    <span class="progress-difference">{{progressDifference}}</span>
                </div>
            </li>
            {{/projects}}
        </ul>
    </div>

    <div id="template-dashboard-projects-list">
        <ul class="project-line-item-list">
            {{#projects}}
            <li class="project-widget {{statusText}}" data-id="{{id}}">
                <div class="project-title">
                    <h4>{{name}}</h4>

                    <h4 class="client-name">{{clientName}}</h4>
                </div>


                <div class="bottom {{statusText}}">
                    <div class="progress-status">
                        <span class="status">&nbsp;</span>{{formattedStatusText}}

                        <span class="progress-difference">{{progressDifference}}</span>
                    </div>

                    <div class="due-date">[[dashboardProjectList.dueDate]]: <span>{{formattedDueDate}}</span></div>
                </div>
            </li>
            {{/projects}}
        </ul>
    </div>

    <div id="template-project-notes">
        <div id="project-notes" class="project-notes">
            <div id="notes-content"></div>
            <div id="no-notes" class="no-activity">[[projectNotes.noNotes]]</div>
        </div>
    </div>

    <div id="template-search-results-filter">
        <div id="search-filters">
            <div class="search-filter filter-dropdown">
                <div class="filter-button"><span class="ti-angle-down"></span> [[globalSearch.filter]]</div>

                <ul class="dropdown-menu pull-right">
                    <li data-filter-value="all"><span>[[globalSearch.all]]</span></li>
                    <li data-filter-value="project"><span>[[globalSearch.projects]]</span></li>
                    <li data-filter-value="task"><span>[[globalSearch.tasks]]</span></li>
                    <li data-filter-value="invoice"><span>[[globalSearch.invoices]]</span></li>
                    <li data-filter-value="file"><span>[[globalSearch.files]]</span></li>
                    <li data-filter-value="message"><span>[[globalSearch.messages]]</span></li>
                </ul>
            </div>
        </div>
    </div>

    <div id="template-global-search">
        <div id="global-search-results">



            <div class="search-entities">
                {{#hasProjects}}
                <div id="search-project-results" class="search-entity">
                    <h6>[[globalSearch.projectsTitle]]</h6>

                    <div class="list condensed project-list">
                        <div class="list-main-header">
                            <div class="project-name">[[globalSearch.projectName]]</div>
                            <div class="project-due-date">[[globalSearch.projectDueDate]]</div>
                            <div class="project-status">[[globalSearch.projectStatus]]</div>
                        </div>
                        <ul class="list condensed">
                            {{#projects}}
                            <li class="{{statusText}}" data-type="{{type}}" data-id={{id}}>
                                <div class="project-name">{{name}}</div>
                                <div class="project-due-date">{{formattedDueDate}}</div>
                                <div class="project-status">{{formattedStatusText}}</div>
                            </li>
                            {{/projects}}
                        </ul>

                    </div>
                </div>
                {{/hasProjects}}

                {{#hasTasks}}
                <div id="search-task-results" class="search-entity">
                    <h6>[[globalSearch.tasksTitle]]</h6>

                    <div class="list condensed search-task-list">
                        <div class="list-main-header">
                            <div class="task-name">[[globalSearch.taskName]]</div>
                            <div class="task-project-name">[[globalSearch.taskProject]]</div>
                            <div class="task-due-date">[[globalSearch.taskDueDate]]</div>
                            <div class="task-status">[[globalSearch.taskStatus]]</div>
                        </div>
                        <ul class="list condensed">
                            {{#tasks}}
                            <li class="{{statusText}}" data-type="{{type}}" data-id={{id}}>

                                <div class="task-name">{{task}}</div>
                                <div class="task-project-name">{{projectName}}</div>
                                <div class="task-due-date">{{dueDateHumanized}}</div>
                                <div class="task-status">{{formattedStatusText}}</div>

                            </li>
                            {{/tasks}}
                        </ul>

                    </div>
                </div>
                {{/hasTasks}}

                {{#hasInvoices}}
                <div id="search-invoice-results" class="search-entity">
                    <h6>[[globalSearch.invoicesTitle]]</h6>

                    <div class="list condensed invoice-list">
                        <div class="list-main-header">
                            <div class="invoice-number">[[globalSearch.invoiceNumber]]</div>
                            <div class="invoice-total">[[globalSearch.invoiceTotal]]</div>
                            <div class="invoice-balance">[[globalSearch.invoiceBalance]]</div>
                            <div class="invoice-status">[[globalSearch.invoiceStatus]]</div>
                            <div class="invoice-due-date">[[globalSearch.invoiceDueDate]]</div>
                        </div>

                        <ul class="">
                            {{#invoices}}
                            <li class="{{statusClass}}" data-type="{{type}}" data-id={{id}}>
                                <div class="invoice-number">{{number}}</div>
                                <div class="invoice-total">{{formattedTotal}}</div>
                                <div class="invoice-balance">{{formattedBalance}}</div>
                                <div class="invoice-status {{statusClass}}"><span
                                        class="status-text">{{statusText}}</span>
                                </div>
                                <div class="invoice-due-date">{{dueDateHumanized}}</div>
                            </li>
                            {{/invoices}}
                        </ul>
                    </div>
                </div>
                {{/hasInvoices}}

                {{#hasClients}}
                <div id="search-clients-results" class="search-entity">
                    <h6>[[globalSearch.clientsTitle]]</h6>

                    <div class="list condensed client-list">
                        <div class="list-main-header">
                            <div class="project-name">[[globalSearch.clientName]]</div>

                        </div>
                        <ul class="list condensed">
                            {{#clients}}
                            <li class="{{statusText}}" data-type="{{type}}" data-id={{id}}>
                                <div class="client-name">{{name}}</div>
                            </li>
                            {{/clients}}
                        </ul>

                    </div>
                </div>
                {{/hasClients}}

                {{#hasFiles}}
                <div id="search-files-results" class="search-entity">
                    <h6>[[globalSearch.filesTitle]]</h6>

                    <div class="list condensed file-list">
                        <div class="list-main-header">
                            <div class="file-name">[[globalSearch.fileName]]</div>
                            <div class="file-type">[[globalSearch.fileType]]</div>
                            <div class="file-project-name">[[globalSearch.fileProject]]</div>
                        </div>
                        <ul class="list condensed">
                            {{#files}}
                            <li class="{{statusText}}" data-type="{{type}}" data-id={{id}}>
                                <div class="file-name">{{name}}</div>
                                <div class="file-type">{{fileType}}</div>
                                <div class="file-project-name">{{projectName}}</div>
                            </li>
                            {{/files}}
                        </ul>
                    </div>
                </div>
                {{/hasFiles}}

                {{#hasUsers}}
                <div id="search-users-results" class="search-entity">
                    <h6>[[globalSearch.usersTitle]]</h6>

                    <div class="list condensed user-list">
                        <div class="list-main-header">
                            <div class="user-name">[[globalSearch.userName]]</div>
                            <div class="user-email">[[globalSearch.userEmail]]</div>
                        </div>
                        <ul class="list condensed">
                            {{#users}}
                            <li class="{{statusClass}}" data-type="{{type}}" data-id={{id}}>
                                <div class="user-name">{{name}}</div>
                                <div class="user-email">{{email}}</div>
                            </li>
                            {{/users}}
                        </ul>
                    </div>
                </div>
                {{/hasUsers}}

                {{#hasMessages}}
                <div id="search-message-results" class="search-entity">
                    <h6>[[globalSearch.messagesTitle]]</h6>

                    <div class="list condensed message-list">

                        <ul class="list condensed">
                            {{#messages}}
                            <li class="{{statusText}}" data-type="{{type}}" data-id={{id}}>
                                {{!triple brackets because messages are sanitized on the server side}}
                                <div class="message">{{{message}}}</div>
                            </li>
                            {{/messages}}
                        </ul>
                    </div>
                </div>
                {{/hasMessages}}

                <div id="no-results-wrapper"></div>
            </div>
        </div>
    </div>

    <div id="template-no-search-results">
        <p class="no-search-results">[[globalSearchNoResults.noMatching]]
            {{type}}[[globalSearchNoResults.pluralizeType]]</p>
    </div>

    <div id="template-form-forgot-password">
        <div id="forgot-password">
            <form action="#" method="post" data-model="forgotPassword">
                <h4>[[forgotPassword.forgotPassword]]</h4>

                <p>[[forgotPassword.instructions]]</p>

                <div class="field">
                    <input name="email" type="text" required="required"/>
                </div>

                <input type="submit" class="blue" value="[[form.submit]]">
            </form>
            <div id="temp-password-message">
                [[forgotPassword.checkEmail]]
            </div>

        </div>
    </div>

    <div id="template-form-change-password">
        <form id="change-password" action="#" method="post" data-model="changePassword">
            <div class="field">
                <label for="">[[changePassword.currentPassword]]</label>
                <input type="password" name="current_password" required="required">
            </div>
            <div class="field">
                <label for="">[[changePassword.newPassword]]</label>
                <input type="password" name="new_password" required="required">
            </div>
            <div class="field">
                <label for="">[[changePassword.confirmNewPassword]]</label>
                <input type="password" name="new_password_confirm" required="required">
            </div>

            <input type="submit" value="[[form.submit]]">

        </form>
    </div>

    <div id="template-form-send-password">
        <form id="sedn-password" action="#" method="post" data-model="sendPassword">

            <p>[[sendPassword.instructions]]</p>

            <input type="hidden" name="id" value="{{userId}}">

            <input type="submit" class="small" value="[[sendPassword.submit]]">

            <div class="button large">[[sendPassword.cancel]]</div>

        </form>
    </div>

    <div id="template-admin-settings">
        <div id="admin-settings">

            <p class="software-version">[[adminSettings.softwareVersion]]: {{version}} <br>

                <span id="check-for-update" class="button tiny flat">Check for update</span>
            </p>
            <br>
            <br>
            <ul class="nav nav-tabs">
                <li class="active"><a href="#admin-settings-overview">[[adminSettings.settingsOverview]]</a></li>
                <li><a href="#admin-general">[[adminSettings.general]]</a></li>
                <li><a href="#scheduled-tasks">[[adminSettings.scheduledTasks]]</a></li>
                <li><a href="#admin-feedback">[[adminSettings.referrals]]</a></li>
            </ul>

            <div id="admin-settings-overview" class="admin-section active">




                <div id="settings-overview" class="settings-section">
                    <h4>[[adminSettings.settingsOverview]]</h4><br>
                    {{#settings}}
                    <h4 class="setting-section-header">{{section_name}}</h4>
                    <ul class="setting-section-values">
                        {{#values}}
                        <li data-setting="{{name}}" data-value="{{value}}" data-description="{{description}}"
                            data-info="{{info}}" data-type="{{type}}">
                            <span><strong>{{description}}: </strong></span>{{value}}
                            <span class="edit-setting">Edit</span></li>
                        {{/values}}
                    </ul>
                    {{/settings}}
                </div>

            </div>

            <div id="scheduled-tasks" class="admin-section">

                <div class="settings-section">
                    <h4>[[adminSettings.scheduledTasks]]</h4>
                    <p>Create cron jobs for the following</p>

                    <h5>[[adminSettings.frequently]]</h5>
                    {{scheduledTasks.frequently}}

                    <h5>[[adminSettings.daily]]</h5>
                    {{scheduledTasks.daily}}
                </div>

            </div>

            <div id="admin-general" class="admin-section">




                <div class="settings-section">
                    <h4>[[adminSettings.templatesSection]]</h4>

                    <p>[[adminSettings.templatesSectionInstructions]]</p>

                    <div id="build-language-button" class="button">[[adminSettings.buildTemplateFile]]</div>

                    <hr>
                    <h4>[[adminSettings.deletePaidInvoiceSection]]</h4>

                    <p>[[adminSettings.deletePaidInvoiceInstructions]]</p>

                    <div id="delete-invoice" class="button">[[adminSettings.deletePaidInvoice]]</div>

                    <div id="more-button-wrapper">
                        <button id="show-more-tasks" class="link">[[adminSettings.more]]</button>
                    </div>

                    <div id="more-tasks">
                        <hr>
                        <h4>[[adminSettings.cleanMessagesSection]]</h4>

                        <p>[[adminSettings.cleanMessagesInstructions]]</p>

                        <div id="clean-messages" class="button">[[adminSettings.cleanMessages]]</div>

                        <hr>
                        <h4>[[adminSettings.stripSpecialCharsSection]]</h4>

                        <p>[[adminSettings.stripSpecialCharsInstructions]]</p>

                        <div id="strip-messages" class="button">[[adminSettings.stripMessages]]</div>
                    </div>
                </div>


            </div>


            <div id="admin-feedback" class="admin-section">
                <div>
                    <h4>[[adminSettings.referrals]]</h4>

                    <p> Do you know one or two small business owners that would benefit from affordable project management
                        software? If so, send them a quick referral!

                    <form action="#" id="referral-form" method="post">
                        <div class="field">
                            <label>Email</label>
                            <input class="form-control" type="email" name="email" required="required"/>
                        </div>

                        <div class="field">
                            <label>Subject</label>
                            <input class="form-control" type="text" name="subject"
                                   value="Check out this great project management app" required="required"/>
                        </div>

                        <div class="field">
                            <label>Message</label>
                        <textarea class="form-control" name="message" id="" cols="30" rows="10" required="required">

                        </textarea>

                            <div id="referral-disclaimer">A copy of each referral will be sent through duetapp.com's
                                servers
                                for analytics purposes.
                            </div>
                        </div>
                        <input value="Send" type="submit">
                    </form>


                    <div id="social-shares">
                        <p>Share on social media</p>

                        <div class="share-option">
                            <a id="twitter-button" target="_blank"
                               href="https://twitter.com/intent/tweet?text=Duet+-+A+great+project+management+app+for+small+businesses+http%3a%2f%2fduetapp.com&via=23andwalnut"><span
                                    class="share-icon ti-twitter"></span>Tweet</a>
                        </div>

                        <div class="share-option">
                            <a id="facebook-button" target="_blank"
                               href="http://www.facebook.com/share.php?u=https://duetapp.com&t=Duet+-+A+great+project+management+app+for+small+businesses+http%3a%2f%2fduetapp.com%20@23andWalnut&v=4"><span
                                    class="share-icon ti-facebook"></span>Share on Facebook</a>
                        </div>

                        <div class="share-option">
                            <a id="linkedin-button" target="_blank"
                               href="http://www.linkedin.com/shareArticle?mini=true&url=https://duetapp.com&title=Duet+-+A+great+project+management+app+for+small+businesses+http%3a%2f%2fduetapp.com&summary=A+beautiful+self+hosted+project+management+app+with+a+low+one+time+fee&source=https://duetapp.com"><span
                                    class="share-icon ti-linkedin"></span>Share on LinkedIn</a>
                        </div>


                        <div class="share-option">
                            <a id="google-button" target="_blank"
                               href="https://plus.google.com/share?url=http%3a%2f%2fduetapp.com"><span
                                    class="share-icon ti-google"></span>Share on Google+</a>
                        </div>

                    </div>
                </div>


                <hr>


                <div>
                    <h4>Feedback</h4>

                    <p>Do you have suggestions on how to improve Duet? I would love to hear from you.</p>

                    <form id="feedback-form" action="#">
                        <div class="field"><textarea class="form-control" name="message" required="required" id=""
                                                     cols="30"
                                                     rows="10"></textarea></div>
                        <input value="Send" type="submit">
                    </form>
                </div>
            </div>
        </div>


    </div>



<div id="template-form-change-setting">
    <form id="change-setting">
        <p><strong>{{description}}</strong></p>
        {{#if hasInfo}}
        <p class="setting-info">{{info}}</p>
        {{/if}}
        {{#isBoolean}}
        <label for="" class="radio">
            <input type="radio" name="value" value="1"> Yes
        </label>
        <label for="" class="radio">
            <input type="radio" name="value" value="0"> No
        </label>
        {{/isBoolean}}

        {{#if isString}}
        <input type="text" name="value">
        {{/if}}

        {{#if isNumber}}
        <input type="number" name="value">
        {{/if}}

        <input type="submit" value="[[adminSettings.changeSetting]]">
    </form>
</div>

<span id="template-referral-text"><span>Hey,

I've been using Duet Project Management and loving it. It's an awesome project management
app for small businesses and it is very affordable.

I thought you might like their service too so I'm sending you this link. http://duetapp.com

Check it out!
</span></span>

<div id="template-delete-invoice">
    <div id="delete-invoice-form" class="form">
        <p>[[deleteInvoice.instructions]]</p>

        <div class="field">
            <label>[[deleteInvoice.fieldLabel]]</label>
            <input name="invoice_number" type="text">
        </div>
        <div class="button submit red">[[deleteInvoice.button]]</div>
    </div>
</div>

<div id="template-panel-loading">
    <div class="panel-loading">
        <h4 class="loading-texts">[[panelLoading.loading]]</h4>
    </div>
</div>

<div id="template-panel-no-selection">
    <div class="panel-no-selection">
        <p class="loading-texts">[[panelNoSelection.makeSelection]]</p>
    </div>
</div>

<div id="template-form-report-download-choose-type">
    <div id="report-download-choose-type">
        <div id="pdf-download" class="button large">PDF</div>
        <div id="csv-download" class="button large">CSV</div>
    </div>
</div>
<div id="template-reporting">
    <div id="reporting">
        <div id="reporting-menu">
            <div id="reporting-timeframe"><h3>{{timeFrameText}}</h3>
            </div>
        </div>


        <div id="reporting-main">
            <div id="reporting-content">
                <div id="reporting-content-inner"  class="section">
                    <div id="reporting-summary">


                        <div class="reporting-widgets">


                            <div id="total-invoiced" class="reporting-widget">
                                <h4 class="title">[[reporting.totalInvoiced]]</h4>

                                <div class="text">
                                    <h3 class="value">{{invoiceTotals.formattedTotal}}</h3>

                                </div>
                                <div id="total-invoiced-graph" class="graph"></div>
                                <div class="legend">
                                    <div class="item item-a">
                                        <span class="color"></span><span class="description">[[reporting.paid]]</span>

                                        <div class="value">{{invoiceTotals.formattedPaidTotal}}</div>
                                    </div>
                                    <div class="item item-b">
                                        <span class="color"></span><span class="description">[[reporting.unpaid]]</span>

                                        <div class="value">{{invoiceTotals.formattedUnpaidTotal}}</div>
                                    </div>
                                </div>

                            </div>
                            <div class="reporting-widget">
                                <div class="text">
                                    <h4 class="title">[[reporting.time]]</h4>

                                    <h3 class="value">{{formattedTotalTime}}</h3>

                                </div>

                                <div id="time-worked-graph" class="graph"></div>
                            </div>
                        </div>
                    </div>
                    <div class="separator"></div>
                    <div id="reporting-details">
                        <div id="reporting-filter-wrapper">
                            [[reporting.type]]:
                            <div id="filter-container"></div>
                            <div id="download-reports-button">

                            </div>
                        </div>

                        <div id="reporting-invoices" class="reporting-list showing">
                            <div class="list condensed invoice-list">
                                <div class="list-main-header">
                                    <div class="invoice-number">[[reporting.invoiceNumber]]</div>
                                    <div class="invoice-client">[[reporting.client]]</div>
                                    <div class="invoice-total">[[reporting.total]]</div>
                                    <div class="invoice-status">[[reporting.status]]</div>
                                    <div class="invoice-due-date">[[reporting.dueDate]]</div>
                                </div>

                                {{#if noInvoices}}
                                <h4 class="empty-list">[[reporting.noInvoices]]</h4>
                                {{/if}}

                                <ul class="">
                                    {{#invoices.models}}
                                    <li class="{{statusClass}}" data-id={{id}}>
                                        <div class="invoice-number">{{number}}</div>
                                        <div class="invoice-client">{{clientName}}</div>
                                        <div class="invoice-total">{{formattedTotal}}</div>

                                        <div class="invoice-status {{statusClass}}"><span
                                                class="status-text">{{statusText}}</span>
                                        </div>
                                        <div class="invoice-due-date">{{dueDateHumanized}}</div>
                                    </li>
                                    {{/invoices.models}}

                                </ul>
                            </div>
                        </div>
                        <div id="reporting-time-entries" class="reporting-list">
                            <div class="list condensed invoice-list">
                                <div class="list-main-header">
                                    <div class="invoice-number">[[reporting.user]]</div>
                                    <div class="invoice-client">[[reporting.project]]</div>
                                    <div class="invoice-total">[[reporting.task]]</div>
                                    <div class="invoice-status">[[reporting.date]]</div>
                                    <div class="invoice-due-date">[[reporting.time]]</div>
                                </div>

                                {{#if noTasks}}
                                <h4 class="empty-list">[[reporting.noTasks]]</h4>
                                {{/if}}

                                <ul class="">
                                    {{#timeEntries.models}}
                                    <li class="{{statusClass}}" data-id={{id}}>
                                        <div class="invoice-number">{{userName}}</div>
                                        <div class="invoice-client">{{projectName}}</div>
                                        <div class="invoice-total">{{task}}</div>

                                        <div class="invoice-status">{{startDateText}}</div>
                                        <div class="invoice-due-date">{{timeText}}</div>
                                    </li>
                                    {{/timeEntries.models}}

                                </ul>
                            </div>
                        </div>
                        <div id="reporting-payments" class="reporting-list">
                            <div class="list condensed invoice-list">
                                <div class="list-main-header">
                                    <div class="invoice-number">[[reporting.client]]</div>
                                    <div class="invoice-client">[[reporting.invoiceNumber]]</div>
                                    <div class="invoice-total">[[reporting.amount]]</div>
                                    <div class="invoice-status">[[reporting.date]]</div>
                                    <div class="invoice-status">[[reporting.paymentMethod]]</div>
                                </div>

                                {{#if noPayments}}
                                <h4 class="empty-list">[[reporting.noPayments]]</h4>
                                {{/if}}

                                <ul class="">
                                    {{#payments.models}}
                                    <li class="{{statusClass}}" data-id={{id}}>
                                        <div class="invoice-number">{{clientName}}</div>
                                        <div class="invoice-client">#{{invoiceNumber}}</div>
                                        <div class="invoice-total">{{formattedAmount}}</div>

                                        <div class="invoice-status">{{fomattedDate}}</div>
                                        <div class="invoice-status">{{paymentMethod}}</div>
                                    </li>
                                    {{/payments.models}}

                                </ul>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            <div id="reporting-filters">
                <div class="background"></div>
                <div class="">
                    <h3>[[reporting.filters]]</h3>
                    <div id="timeframe-selector"></div>
                    <form id="reporting-filter-form" action="" class="form">

                        <div id="custom-date-range">
                            <div class="field">
                                <label for="">[[reporting.start]]</label>
                                <input type="date" name="start_date">
                            </div>
                            <div class="field">
                                <label for="">[[reporting.end]]</label>
                                <input type="date" name="end_date">
                            </div>
                        </div>

                        <div class="field">
                            <label for="">[[reporting.project]]</label>
                            <select name="project_id" id="">
                                <option></option>
                                {{#filterOptions.projects}}
                                <option value="{{id}}">{{name}}</option>
                                {{/filterOptions.projects}}

                            </select>
                        </div>

                        <div class="field">
                            <label for="">[[reporting.client]]</label>
                            <select name="client_id" id="">
                                <option></option>
                                {{#filterOptions.clients}}
                                <option value="{{id}}">{{name}}</option>
                                {{/filterOptions.clients}}
                            </select>
                        </div>

                        <div class="field">
                            <label for="">[[reporting.user]]</label>
                            <select name="user_id" id="">
                                <option></option>
                                {{#filterOptions.users}}
                                <option value="{{id}}">{{user_name}}</option>
                                {{/filterOptions.users}}
                            </select>
                        </div>

                        <input id="time_frame_selection" name="time_frame_selection" type="hidden">

                        <div class="field"><input type="submit" value="[[reporting.generateReport]]"></div>
                    </form>

                </div>
            </div>
        </div>








    </div>
</div>

<div id="template-running-timer">
    <div class="running-timer">
        <div class="running-timer-inner">
            <div class="timer-task">{{task}}</div>
            <div class="timer-elapsed"></div>
            <div class="timer-stop"></div>
        </div>
    </div>
</div>


<div id="template-form-new-project-from-template">
    <div id="new-project-from-template">
        <p class="notification">[[newProjectFromTemplateForm.instructions]]</p>

        <div id="template-project-form">

        </div>
    </div>
</div>


<div id="template-people-list">
    <div class="people-list">
        <ul>
            {{#admins}}
            <li class="person-info" data-id={{id}}>
                <a href="#users/{{id}}">
                    <span class="person-image user-image"></span>
                    <span class="person-name">{{first_name}} {{last_name}}</span>
                    <span class="person-role">{{role}}</span>
                </a>
            </li>
            {{/admins}}

            {{#if userIsAdmin}}

            {{#agents}}
            <li class="person-info" data-id={{id}}>
                <a href="#users/{{id}}">
                    <span class="person-image user-image"></span>
                    <span class="person-name">{{first_name}} {{last_name}}</span>
                    <span class="person-role">{{role}}</span>
                    <span class="remove-user">[[peopleView.remove]]</span>
                </a>
            </li>
            {{/agents}}

            {{else}}

            {{#agents}}
            <li class="person-info" data-id={{id}}>
                <a href="#users/{{id}}">
                    <span class="person-image user-image"></span>
                    <span class="person-name">{{first_name}} {{last_name}}</span>
                    <span class="person-role">{{role}}</span>

                </a>
            </li>
            {{/agents}}

            {{/if}}

            {{#clients}}
            <li class="person-info" data-id={{id}}>
                <a href="#users/{{id}}">
                    <span class="person-image user-image"></span>
                    <span class="person-name">{{first_name}} {{last_name}}</span>
                    <span class="person-role">{{role}}</span>
                </a>
            </li>
            {{/clients}}
        </ul>
    </div>
</div>

<div id="template-form-add-person-to-project">
    <form id="add-person-to-project" action="#" method="post">

        <div class="field">
            <label>[[addPersonToProjectView.existingUsers]]</label>
            <select name="user_id" id="">
                <option></option>
            </select>
        </div>

        <div class="field">
            <label>[[addPersonToProjectView.createNewUser]]</label>
            <span class="button create-new-user">[[addPersonToProjectView.createNewUserButton]]</span>
        </div>

    </form>
</div>


<div id="template-form-new-user-type">
    <div id="choose-new-user-type">
        <div class="new-user-type" data-type="admin">
            <div class="icon ti-plus"></div>
            <div class="user-type-description">
                <h5>[[newUserType.admin]]</h5>

                <p>[[newUserType.adminDescription]]</p>
            </div>
        </div>
        <div class="new-user-type" data-type="agent">
            <div class="icon ti-plus"></div>
            <div class="user-type-description">
                <h5>[[newUserType.agent]]</h5>

                <p>[[newUserType.agentDescription]]</p>
            </div>
        </div>
        <div class="new-user-type" data-type="client">
            <div class="icon ti-plus"></div>
            <div class="user-type-description">
                <h5>[[newUserType.clientUser]]</h5>

                <p>[[newUserType.clientUserDescription]]</p>
            </div>
        </div>
    </div>
</div>


<div id="template-form-add-user-to-project-step-one">
    <div id="add-user-to-project-step-one">

        <div id="option-existing" class="new-user-type" data-type="existing">
            <div class="icon ti-plus"></div>
            <div class="user-type-description">
                <h5>[[addUserToProject.existingUser]]</h5>

                <p>[[addUserToProject.existingUserDescription]]</p>
            </div>
        </div>

        <div id="option-new" class="new-user-type" data-type="new">
            <div class="icon ti-plus"></div>
            <div class="user-type-description">
                <h5>[[addUserToProject.newUser]]</h5>

                <p>[[addUserToProject.newUserDescription]]</p>
            </div>
        </div>


        <p class="small">*[[addPersonToProjectView.instructions]] <a href="#">[[addPersonToProjectView.roleInstructions]]</a>
        </p>
    </div>
</div>

<div id="template-form-add-existing-user-to-project">
    <form action="">
        <div class="field">
            <label>[[addPersonToProjectView.existingUsers]]</label>
            <select name="user_id" id="">
                <option></option>
            </select>
        </div>

        <input type="submit" value="[[addExistingPersonToProjectView.addButton]]">
    </form>
</div>


<div id="template-discussion">
    <div id="discussion-panel" class="{{#showMinimal}}minimal{{/showMinimal}}">
        <div id="discussion-header-wrapper">

        </div>
        <div id="messages-list-wrapper" class="nano top">
            <div id="messages-list" class="content">
                {{#organizedMessages}}
                <div class="user-messages-section" data-userid="{{userId}}">
                    <div class="user-info">
                        <a class="user-image" href="#users/{{userId}}">{{{userImage}}}</a>
                        <a class="user-link" href="#users/{{userId}}">{{userName}}</a>
                    </div>
                    <ul>
                        {{#messages}}
                        <li class="message {{#onChildObject}}on-child-object{{/onChildObject}}" data-id="{{id}}">


                            <div class="message-contents">


                                <div class="message-main">


                                    <div class="message-text">


                                        {{! using pre to preserve line breaks in messages. Previously this was handled
                                        by setting text programatically. Another option is to use a helper:
                                        http://stackoverflow.com/a/12397602}}
                                        <div class="message-text-inner" title="{{userName}} {{dateText}}">
                                            <pre>{{message}}</pre></div>
                                    </div>

                                    {{#if files}}
                                    <div class="message-files">
                                        {{#files}}
                                        <div><span class="icon ti-file"></span><a class="message-file-name"
                                                                                  href="#projects/{{../projectId}}/files/{{id}}">{{name}}</a>
                                        </div>
                                        {{/files}}
                                    </div>
                                    {{/if}}


                                </div>
                                <div class="message-meta">
                                    <div class="message-date" title="{{formattedDateText}}">{{dateText}}</div>
                                    {{#onChildObject}}
                                    <div class="posted-on"><span>[[messagesPanel.postedOn]] {{referenceObject}}</span>
                                        :
                                        <a href="#projects/{{projectId}}/{{referenceObject}}/{{referenceId}}">{{childEntityName}}</a>
                                    </div>
                                    {{/onChildObject}}
                                </div>
                            </div>


                        </li>
                        {{/messages}}
                    </ul>
                </div>
                {{/organizedMessages}}
            </div>
        </div>




        <div id="new-message">
            <div id="message-area-wrapper">
                <textarea id="new-message-textarea" rows="3" cols="20"></textarea>


            </div>
            <div id="message-file-name-space">
                <div id="file-names"></div>
                <span class="remove-files">[[messagesPanel.removeFiles]]</span>
            </div>
            <div id="attach-files-button-wrapper">

            </div>

            <div id="send-message" class="">[[messagesPanel.send]]</div>
            <div id="sending-message" class="">[[messagesPanel.sendingMessage]]</div>
        </div>
    </div>
</div>

<div id="template-messages-section">
    <div class="user-messages-section" data-userid="{{userId}}">
        <div class="user-info">
            <a class="user-image" href="#users/{{userId}}">{{{userImage}}}</a>
            <a class="user-link" href="#users/{{userId}}">{{userName}}</a>
        </div>
        <ul>
            {{#messages}}
            <li class="message {{#onChildObject}}on-child-object{{/onChildObject}}">


                <div class="message-contents">


                    <div class="message-main">


                        <div class="message-text">


                            {{! using pre to preserve line breaks in messages. Previously this was
                            handled
                            by setting text programatically. Another option is to use a helper:
                            http://stackoverflow.com/a/12397602}}
                            <div class="message-text-inner" title="{{userName}} {{dateText}}">
                                <pre>{{message}}</pre>
                            </div>
                        </div>

                        {{#if files}}
                        <div class="message-files">
                            {{#files}}
                            <div><span class="icon ti-file"></span><a class="message-file-name"
                                                                      href="#projects/{{../projectId}}/files/{{id}}">{{name}}</a>
                            </div>
                            {{/files}}
                        </div>
                        {{/if}}


                    </div>
                    <div class="message-meta">
                        <div class="message-date" title="{{formattedDateText}}">{{dateText}}</div>
                        {{#onChildObject}}
                        <div class="posted-on"><span>[[messagesPanel.postedOn]] {{referenceObject}}</span>
                            :
                            <a href="#projects/{{projectId}}/{{referenceObject}}/{{referenceId}}">{{childEntityName}}</a>
                        </div>
                        {{/onChildObject}}
                    </div>
                </div>


            </li>
            {{/messages}}
        </ul>
    </div>
</div>

<div id="template-discussion-attach-files-button">
    <div id="attach-files"><span class="icon ti-clip"></span>
        <input id="fileupload" type="file" name="files[]" multiple>
    </div>
</div>

<div id="template-discussion-header">
    <div id="discussion-header">
        <h4 id="discussion-entity-title">
            [[messagesPanel.discussionFor]] <span id="discussion-entity-name">{{entity.type}}</span>:
        </h4>

        <a id="back-to-entity" class="button" href="#{{entityUrl}}"> <span class="ti-arrow-left"></span>
            [[messagesPanel.backButtonText]] {{entity.type}}</a>

        {{#isProject}}
        {{#with entity}}
        <h4>{{name}}</h4>
        {{/with}}
        {{/isProject}}


        {{#isTask}}
        {{#with entity}}
        <h4>{{task}}</h4>
        {{/with}}
        {{/isTask}}


        {{#isInvoice}}
        {{#with entity}}
        <h4>#{{number}} - {{formattedTotal}}</h4>
        {{/with}}
        {{/isInvoice}}


        {{#isFile}}
        {{#with entity}}
        <h4>{{name}}</h4>
        {{/with}}
        {{/isFile}}
    </div>
</div>


<div id="template-message">
    <li class="message {{#onChildObject}}on-child-object{{/onChildObject}}">


        <div class="message-contents">


            <div class="message-main">


                <div class="message-text">


                    {{! message text is set programatically to preserve line breaks etc. Can't use triple
                    brackets
                    because
                    this user supplied data and that would leave us vulnerable to an xss attack. Data is
                    sanitized
                    before being set by code}}
                    <div class="message-text-inner"><pre>{{message}}</pre></div>
                </div>

                {{#if files}}
                <div class="message-files">
                    {{#files}}
                    <div><span class="icon ti-file"></span><a class="message-file-name"
                                                              href="#projects/{{../projectId}}/files/{{id}}">{{name}}</a>
                    </div>
                    {{/files}}
                </div>
                {{/if}}


            </div>
            <div class="message-meta">
                <div class="message-date" title="{{formattedDateText}}">{{dateText}}</div>
                {{#onChildObject}}
                <div class="posted-on"><span>[[messagesPanel.postedOn]] {{referenceObject}}</span>
                    :
                    <a href="#projects/{{projectId}}/{{referenceObject}}/{{referenceId}}">{{childEntityName}}</a>
                </div>
                {{/onChildObject}}
            </div>
        </div>


    </li>
</div>

<div id="template-inline-popup">
    <div class="inline-popup">boom</div>
</div>


<div id="template-form-assign-tasks">
    <form id="assign-tasks-form" action="#" method="post" novalidate>
        <div class="field">

            <select name="user_id" placeholder="[[assignTaskView.assignTo]]" required="required">
                <option></option>
            </select>
            <input type="submit" value="[[assignTaskView.assignTask]]">
        </div>
    </form>
</div>

<div id="template-start-timer-popup">
    <div id="start-timer-popup">
        <p>[[startTimerPopup.instructions]]</p>
        <span class="button cancel">[[startTimerPopup.cancel]]</span>
        <span class="button submit">[[startTimerPopup.startTimer]]</span>
    </div>
</div>

</div>
